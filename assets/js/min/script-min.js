<<<<<<< HEAD
!function(t,e){var $=t.jQuery||t.Cowboy||(t.Cowboy={}),i;$.throttle=i=function(t,i,s,o){function n(){function n(){r=+new Date,s.apply(h,u)}function l(){a=e}var h=this,c=+new Date-r,u=arguments;o&&!a&&n(),a&&clearTimeout(a),o===e&&c>t?n():i!==!0&&(a=setTimeout(o?l:n,o===e?t-c:t))}var a,r=0;return"boolean"!=typeof i&&(o=s,s=i,i=e),$.guid&&(n.guid=s.guid=s.guid||$.guid++),n},$.debounce=function(t,s,o){return o===e?i(t,s,!1):i(t,o,s!==!1)}}(this),function(){var t;t=window.jQuery||window.Zepto||window.$,t.fn.fancySelect=function(e){var i,s;return null==e&&(e={}),s=t.extend({forceiOS:!1,includeBlank:!1,optionTemplate:function(t){return t.text()},triggerTemplate:function(t){return t.text()}},e),i=!!navigator.userAgent.match(/iP(hone|od|ad)/i),this.each(function(){var e,o,n,a,r,l,h;return a=t(this),a.hasClass("fancified")||"SELECT"!==a[0].tagName?void 0:(a.addClass("fancified"),a.css({width:1,height:1,display:"block",position:"absolute",top:0,left:0,opacity:0}),a.wrap('<div class="fancy-select">'),h=a.parent(),a.data("class")&&h.addClass(a.data("class")),h.append('<div class="trigger">'),(!i||s.forceiOS)&&h.append('<ul class="options">'),r=h.find(".trigger"),n=h.find(".options"),o=a.prop("disabled"),o&&h.addClass("disabled"),l=function(){var t;return t=s.triggerTemplate(a.find(":selected")),r.html(t)},a.on("blur.fs",function(){return r.hasClass("open")?setTimeout(function(){return r.trigger("close.fs")},120):void 0}),r.on("close.fs",function(){return r.removeClass("open"),n.removeClass("open")}),r.on("click.fs",function(){var e,l;if(!o)if(r.toggleClass("open"),i&&!s.forceiOS){if(r.hasClass("open"))return a.focus()}else if(r.hasClass("open")&&(l=r.parent(),e=l.offsetParent(),l.offset().top+l.outerHeight()+n.outerHeight()+20>t(window).height()+t(window).scrollTop()?n.addClass("overflowing"):n.removeClass("overflowing")),n.toggleClass("open"),!i)return a.focus()}),a.on("enable",function(){return a.prop("disabled",!1),h.removeClass("disabled"),o=!1,e()}),a.on("disable",function(){return a.prop("disabled",!0),h.addClass("disabled"),o=!0}),a.on("change.fs",function(t){return t.originalEvent&&t.originalEvent.isTrusted?t.stopPropagation():l()}),a.on("keydown",function(t){var e,i,s;if(s=t.which,e=n.find(".hover"),e.removeClass("hover"),n.hasClass("open")){if(38===s?(t.preventDefault(),e.length&&e.index()>0?e.prev().addClass("hover"):n.find("li:last-child").addClass("hover")):40===s?(t.preventDefault(),e.length&&e.index()<n.find("li").length-1?e.next().addClass("hover"):n.find("li:first-child").addClass("hover")):27===s?(t.preventDefault(),r.trigger("click.fs")):13===s||32===s?(t.preventDefault(),e.trigger("click.fs")):9===s&&r.hasClass("open")&&r.trigger("close.fs"),i=n.find(".hover"),i.length)return n.scrollTop(0),n.scrollTop(i.position().top-12)}else if(13===s||32===s||38===s||40===s)return t.preventDefault(),r.trigger("click.fs")}),n.on("click.fs","li",function(e){var s;return s=t(this),a.val(s.data("raw-value")),i||a.trigger("blur.fs").trigger("focus.fs"),n.find(".selected").removeClass("selected"),s.addClass("selected"),r.addClass("selected"),a.val(s.data("raw-value")).trigger("change.fs").trigger("blur.fs").trigger("focus.fs")}),n.on("mouseenter.fs","li",function(){var e,i;return i=t(this),e=n.find(".hover"),e.removeClass("hover"),i.addClass("hover")}),n.on("mouseleave.fs","li",function(){return n.find(".hover").removeClass("hover")}),e=function(){var e;return l(),!i||s.forceiOS?(e=a.find("option"),a.find("option").each(function(e,i){var o;return i=t(i),i.prop("disabled")||!i.val()&&!s.includeBlank?void 0:(o=s.optionTemplate(i),n.append(i.prop("selected")?'<li data-raw-value="'+i.val()+'" class="selected">'+o+"</li>":'<li data-raw-value="'+i.val()+'">'+o+"</li>"))})):void 0},a.on("update.fs",function(){return h.find(".options").empty(),e()}),e())})}}.call(this),function(t,e){"function"==typeof define&&define.amd?define(e):t.Dragdealer=e()}(this,function(){function t(t){var e="Webkit Moz ms O".split(" "),i=document.documentElement.style;if(void 0!==i[t])return t;t=t.charAt(0).toUpperCase()+t.substr(1);for(var s=0;s<e.length;s++)if(void 0!==i[e[s]+t])return e[s]+t}function e(t){c.backfaceVisibility&&c.perspective&&(t.style[c.perspective]="1000px",t.style[c.backfaceVisibility]="hidden")}var i=function(t,e){this.options=this.applyDefaults(e||{}),this.bindMethods(),this.wrapper=this.getWrapperElement(t),this.wrapper&&(this.handle=this.getHandleElement(this.wrapper,this.options.handleClass),this.handle&&(this.init(),this.bindEventListeners()))};i.prototype={defaults:{disabled:!1,horizontal:!0,vertical:!1,slide:!0,steps:0,snap:!1,loose:!1,speed:.1,xPrecision:0,yPrecision:0,handleClass:"handle",css3:!0,activeClass:"active",tapping:!0},init:function(){this.options.css3&&e(this.handle),this.value={prev:[-1,-1],current:[this.options.x||0,this.options.y||0],target:[this.options.x||0,this.options.y||0]},this.offset={wrapper:[0,0],mouse:[0,0],prev:[-999999,-999999],current:[0,0],target:[0,0]},this.change=[0,0],this.stepRatios=this.calculateStepRatios(),this.activity=!1,this.dragging=!1,this.tapping=!1,this.reflow(),this.options.disabled&&this.disable()},applyDefaults:function(t){for(var e in this.defaults)t.hasOwnProperty(e)||(t[e]=this.defaults[e]);return t},getWrapperElement:function(t){return"string"==typeof t?document.getElementById(t):t},getHandleElement:function(t,e){var i,s,o;if(t.getElementsByClassName){if(i=t.getElementsByClassName(e),i.length>0)return i[0]}else for(s=new RegExp("(^|\\s)"+e+"(\\s|$)"),i=t.getElementsByTagName("*"),o=0;o<i.length;o++)if(s.test(i[o].className))return i[o]},calculateStepRatios:function(){var t=[];if(this.options.steps>1)for(var e=0;e<=this.options.steps-1;e++)t[e]=e/(this.options.steps-1);return t},setWrapperOffset:function(){this.offset.wrapper=h.get(this.wrapper)},calculateBounds:function(){var t={top:this.options.top||0,bottom:-(this.options.bottom||0)+this.wrapper.offsetHeight,left:this.options.left||0,right:-(this.options.right||0)+this.wrapper.offsetWidth};return t.availWidth=t.right-t.left-this.handle.offsetWidth,t.availHeight=t.bottom-t.top-this.handle.offsetHeight,t},calculateValuePrecision:function(){var t=this.options.xPrecision||Math.abs(this.bounds.availWidth),e=this.options.yPrecision||Math.abs(this.bounds.availHeight);return[t?1/t:0,e?1/e:0]},bindMethods:function(){this.requestAnimationFrame="function"==typeof this.options.customRequestAnimationFrame?s(this.options.customRequestAnimationFrame,window):s(p,window),this.cancelAnimationFrame="function"==typeof this.options.customCancelAnimationFrame?s(this.options.customCancelAnimationFrame,window):s(d,window),this.animateWithRequestAnimationFrame=s(this.animateWithRequestAnimationFrame,this),this.animate=s(this.animate,this),this.onHandleMouseDown=s(this.onHandleMouseDown,this),this.onHandleTouchStart=s(this.onHandleTouchStart,this),this.onDocumentMouseMove=s(this.onDocumentMouseMove,this),this.onWrapperTouchMove=s(this.onWrapperTouchMove,this),this.onWrapperMouseDown=s(this.onWrapperMouseDown,this),this.onWrapperTouchStart=s(this.onWrapperTouchStart,this),this.onDocumentMouseUp=s(this.onDocumentMouseUp,this),this.onDocumentTouchEnd=s(this.onDocumentTouchEnd,this),this.onHandleClick=s(this.onHandleClick,this),this.onWindowResize=s(this.onWindowResize,this)},bindEventListeners:function(){o(this.handle,"mousedown",this.onHandleMouseDown),o(this.handle,"touchstart",this.onHandleTouchStart),o(document,"mousemove",this.onDocumentMouseMove),o(this.wrapper,"touchmove",this.onWrapperTouchMove),o(this.wrapper,"mousedown",this.onWrapperMouseDown),o(this.wrapper,"touchstart",this.onWrapperTouchStart),o(document,"mouseup",this.onDocumentMouseUp),o(document,"touchend",this.onDocumentTouchEnd),o(this.handle,"click",this.onHandleClick),o(window,"resize",this.onWindowResize),this.animate(!1,!0),this.interval=this.requestAnimationFrame(this.animateWithRequestAnimationFrame)},unbindEventListeners:function(){n(this.handle,"mousedown",this.onHandleMouseDown),n(this.handle,"touchstart",this.onHandleTouchStart),n(document,"mousemove",this.onDocumentMouseMove),n(this.wrapper,"touchmove",this.onWrapperTouchMove),n(this.wrapper,"mousedown",this.onWrapperMouseDown),n(this.wrapper,"touchstart",this.onWrapperTouchStart),n(document,"mouseup",this.onDocumentMouseUp),n(document,"touchend",this.onDocumentTouchEnd),n(this.handle,"click",this.onHandleClick),n(window,"resize",this.onWindowResize),this.cancelAnimationFrame(this.interval)},onHandleMouseDown:function(t){l.refresh(t),a(t),r(t),this.activity=!1,this.startDrag()},onHandleTouchStart:function(t){l.refresh(t),r(t),this.activity=!1,this.startDrag()},onDocumentMouseMove:function(t){l.refresh(t),this.dragging&&(this.activity=!0)},onWrapperTouchMove:function(t){return l.refresh(t),!this.activity&&this.draggingOnDisabledAxis()?void(this.dragging&&this.stopDrag()):(a(t),void(this.activity=!0))},onWrapperMouseDown:function(t){l.refresh(t),a(t),this.startTap()},onWrapperTouchStart:function(t){l.refresh(t),a(t),this.startTap()},onDocumentMouseUp:function(t){this.stopDrag(),this.stopTap()},onDocumentTouchEnd:function(t){this.stopDrag(),this.stopTap()},onHandleClick:function(t){this.activity&&(a(t),r(t))},onWindowResize:function(t){this.reflow()},enable:function(){this.disabled=!1,this.handle.className=this.handle.className.replace(/\s?disabled/g,"")},disable:function(){this.disabled=!0,this.handle.className+=" disabled"},reflow:function(){this.setWrapperOffset(),this.bounds=this.calculateBounds(),this.valuePrecision=this.calculateValuePrecision(),this.updateOffsetFromValue()},getStep:function(){return[this.getStepNumber(this.value.target[0]),this.getStepNumber(this.value.target[1])]},getValue:function(){return this.value.target},setStep:function(t,e,i){this.setValue(this.options.steps&&t>1?(t-1)/(this.options.steps-1):0,this.options.steps&&e>1?(e-1)/(this.options.steps-1):0,i)},setValue:function(t,e,i){this.setTargetValue([t,e||0]),i&&(this.groupCopy(this.value.current,this.value.target),this.updateOffsetFromValue(),this.callAnimationCallback())},startTap:function(){!this.disabled&&this.options.tapping&&(this.tapping=!0,this.setWrapperOffset(),this.setTargetValueByOffset([l.x-this.offset.wrapper[0]-this.handle.offsetWidth/2,l.y-this.offset.wrapper[1]-this.handle.offsetHeight/2]))},stopTap:function(){!this.disabled&&this.tapping&&(this.tapping=!1,this.setTargetValue(this.value.current))},startDrag:function(){this.disabled||(this.dragging=!0,this.setWrapperOffset(),this.offset.mouse=[l.x-h.get(this.handle)[0],l.y-h.get(this.handle)[1]],this.wrapper.className.match(this.options.activeClass)||(this.wrapper.className+=" "+this.options.activeClass))},stopDrag:function(){if(!this.disabled&&this.dragging){this.dragging=!1;var t=this.groupClone(this.value.current);if(this.options.slide){var e=this.change;t[0]+=4*e[0],t[1]+=4*e[1]}this.setTargetValue(t),this.wrapper.className=this.wrapper.className.replace(" "+this.options.activeClass,"")}},callAnimationCallback:function(){var t=this.value.current;this.options.snap&&this.options.steps>1&&(t=this.getClosestSteps(t)),this.groupCompare(t,this.value.prev)||("function"==typeof this.options.animationCallback&&this.options.animationCallback.call(this,t[0],t[1]),this.groupCopy(this.value.prev,t))},callTargetCallback:function(){"function"==typeof this.options.callback&&this.options.callback.call(this,this.value.target[0],this.value.target[1])},animateWithRequestAnimationFrame:function(t){t?(this.timeOffset=this.timeStamp?t-this.timeStamp:0,this.timeStamp=t):this.timeOffset=25,this.animate(),this.interval=this.requestAnimationFrame(this.animateWithRequestAnimationFrame)},animate:function(t,e){if(!t||this.dragging){if(this.dragging){var i=this.groupClone(this.value.target),s=[l.x-this.offset.wrapper[0]-this.offset.mouse[0],l.y-this.offset.wrapper[1]-this.offset.mouse[1]];this.setTargetValueByOffset(s,this.options.loose),this.change=[this.value.target[0]-i[0],this.value.target[1]-i[1]]}(this.dragging||e)&&this.groupCopy(this.value.current,this.value.target),(this.dragging||this.glide()||e)&&(this.updateOffsetFromValue(),this.callAnimationCallback())}},glide:function(){var t=[this.value.target[0]-this.value.current[0],this.value.target[1]-this.value.current[1]];return t[0]||t[1]?(Math.abs(t[0])>this.valuePrecision[0]||Math.abs(t[1])>this.valuePrecision[1]?(this.value.current[0]+=t[0]*this.options.speed*this.timeOffset/25,this.value.current[1]+=t[1]*this.options.speed*this.timeOffset/25):this.groupCopy(this.value.current,this.value.target),!0):!1},updateOffsetFromValue:function(){this.offset.current=this.getOffsetsByRatios(this.options.snap?this.getClosestSteps(this.value.current):this.value.current),this.groupCompare(this.offset.current,this.offset.prev)||(this.renderHandlePosition(),this.groupCopy(this.offset.prev,this.offset.current))},renderHandlePosition:function(){var t="";return this.options.css3&&c.transform?(this.options.horizontal&&(t+="translateX("+this.offset.current[0]+"px)"),this.options.vertical&&(t+=" translateY("+this.offset.current[1]+"px)"),void(this.handle.style[c.transform]=t)):(this.options.horizontal&&(this.handle.style.left=this.offset.current[0]+"px"),void(this.options.vertical&&(this.handle.style.top=this.offset.current[1]+"px")))},setTargetValue:function(t,e){var i=e?this.getLooseValue(t):this.getProperValue(t);this.groupCopy(this.value.target,i),this.offset.target=this.getOffsetsByRatios(i),this.callTargetCallback()},setTargetValueByOffset:function(t,e){var i=this.getRatiosByOffsets(t),s=e?this.getLooseValue(i):this.getProperValue(i);this.groupCopy(this.value.target,s),this.offset.target=this.getOffsetsByRatios(s)},getLooseValue:function(t){var e=this.getProperValue(t);return[e[0]+(t[0]-e[0])/4,e[1]+(t[1]-e[1])/4]},getProperValue:function(t){var e=this.groupClone(t);return e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0),e[0]=Math.min(e[0],1),e[1]=Math.min(e[1],1),(!this.dragging&&!this.tapping||this.options.snap)&&this.options.steps>1&&(e=this.getClosestSteps(e)),e},getRatiosByOffsets:function(t){return[this.getRatioByOffset(t[0],this.bounds.availWidth,this.bounds.left),this.getRatioByOffset(t[1],this.bounds.availHeight,this.bounds.top)]},getRatioByOffset:function(t,e,i){return e?(t-i)/e:0},getOffsetsByRatios:function(t){return[this.getOffsetByRatio(t[0],this.bounds.availWidth,this.bounds.left),this.getOffsetByRatio(t[1],this.bounds.availHeight,this.bounds.top)]},getOffsetByRatio:function(t,e,i){return Math.round(t*e)+i},getStepNumber:function(t){return this.getClosestStep(t)*(this.options.steps-1)+1},getClosestSteps:function(t){return[this.getClosestStep(t[0]),this.getClosestStep(t[1])]},getClosestStep:function(t){for(var e=0,i=1,s=0;s<=this.options.steps-1;s++)Math.abs(this.stepRatios[s]-t)<i&&(i=Math.abs(this.stepRatios[s]-t),e=s);return this.stepRatios[e]},groupCompare:function(t,e){return t[0]==e[0]&&t[1]==e[1]},groupCopy:function(t,e){t[0]=e[0],t[1]=e[1]},groupClone:function(t){return[t[0],t[1]]},draggingOnDisabledAxis:function(){return!this.options.horizontal&&l.xDiff>l.yDiff||!this.options.vertical&&l.yDiff>l.xDiff}};for(var s=function(t,e){return function(){return t.apply(e,arguments)}},o=function(t,e,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&t.attachEvent("on"+e,i)},n=function(t,e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent&&t.detachEvent("on"+e,i)},a=function(t){t||(t=window.event),t.preventDefault&&t.preventDefault(),t.returnValue=!1},r=function(t){t||(t=window.event),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0},l={x:0,y:0,xDiff:0,yDiff:0,refresh:function(t){t||(t=window.event),"mousemove"==t.type?this.set(t):t.touches&&this.set(t.touches[0])},set:function(t){var e=this.x,i=this.y;t.clientX||t.clientY?(this.x=t.clientX,this.y=t.clientY):(t.pageX||t.pageY)&&(this.x=t.pageX-document.body.scrollLeft-document.documentElement.scrollLeft,this.y=t.pageY-document.body.scrollTop-document.documentElement.scrollTop),this.xDiff=Math.abs(this.x-e),this.yDiff=Math.abs(this.y-i)}},h={get:function(t){var e={left:0,top:0};return void 0!==t.getBoundingClientRect&&(e=t.getBoundingClientRect()),[e.left,e.top]}},c={transform:t("transform"),perspective:t("perspective"),backfaceVisibility:t("backfaceVisibility")},u=["webkit","moz"],p=window.requestAnimationFrame,d=window.cancelAnimationFrame,f=0;f<u.length&&!p;++f)p=window[u[f]+"RequestAnimationFrame"],d=window[u[f]+"CancelAnimationFrame"]||window[u[f]+"CancelRequestAnimationFrame"];return p||(p=function(t){return setTimeout(t,25)},d=clearTimeout),i}),function(t,e){if(!t)return e;var i=function(){this.el=e,this.items=e,this.sizes=[],this.max=[0,0],this.current=0,this.interval=e,this.opts={speed:500,delay:3e3,complete:e,keys:!e,dots:e,fluid:e};var i=this;this.init=function(e,i){return this.el=e,this.ul=e.children("ul"),this.max=[e.outerWidth(),e.outerHeight()],this.items=this.ul.children("li").each(this.calculate),this.opts=t.extend(this.opts,i),this.setup(),this},this.calculate=function(e){var s=t(this),o=s.outerWidth(),n=s.outerHeight();i.sizes[e]=[o,n],o>i.max[0]&&(i.max[0]=o),n>i.max[1]&&(i.max[1]=n)},this.setup=function(){if(this.el.css({overflow:"hidden",width:i.max[0],height:this.items.first().outerHeight()}),this.ul.css({width:100*this.items.length+"%",position:"relative"}),this.items.css("width",100/this.items.length+"%"),this.opts.delay!==e&&(this.start(),this.el.hover(this.stop,this.start)),this.opts.keys&&t(document).keydown(this.keys),this.opts.dots&&this.dots(),this.opts.fluid){var s=function(){i.el.css("width",Math.min(Math.round(i.el.outerWidth()/i.el.parent().outerWidth()*100),100)+"%")};s(),t(window).resize(s)}this.opts.arrows&&this.el.parent().append('<p class="arrows"><span class="prev">â†</span><span class="next">â†’</span></p>').find(".arrows span").click(function(){t.isFunction(i[this.className])&&i[this.className]()}),t.event.swipe&&this.el.on("swipeleft",i.prev).on("swiperight",i.next)},this.move=function(e,s){this.items.eq(e).length||(e=0),0>e&&(e=this.items.length-1);var o=this.items.eq(e),n={height:o.outerHeight()},a=s?5:this.opts.speed;this.ul.is(":animated")||(i.el.find(".dot:eq("+e+")").addClass("active").siblings().removeClass("active"),this.el.animate(n,a)&&this.ul.animate(t.extend({left:"-"+e+"00%"},n),a,function(o){i.current=e,t.isFunction(i.opts.complete)&&!s&&i.opts.complete(i.el)}))},this.start=function(){i.interval=setInterval(function(){i.move(i.current+1)},i.opts.delay)},this.stop=function(){return i.interval=clearInterval(i.interval),i},this.keys=function(e){var s=e.which,o={37:i.prev,39:i.next,27:i.stop};t.isFunction(o[s])&&o[s]()},this.next=function(){return i.stop().move(i.current+1)},this.prev=function(){return i.stop().move(i.current-1)},this.dots=function(){var e='<ol class="dots">';t.each(this.items,function(t){e+='<li class="dot'+(1>t?" active":"")+'">'+(t+1)+"</li>"}),e+="</ol>",this.el.addClass("has-dots").append(e).find(".dot").click(function(){i.move(t(this).index())})}};t.fn.unslider=function(e){var s=this.length;return this.each(function(o){var n=t(this),a=(new i).init(n,e);n.data("unslider"+(s>1?"-"+(o+1):""),a)})}}(window.jQuery,!1),function(t){t.fn.fitText=function(e,i){var s=e||1,o=t.extend({minFontSize:Number.NEGATIVE_INFINITY,maxFontSize:Number.POSITIVE_INFINITY},i);return this.each(function(){var e=t(this),i=function(){e.css("font-size",Math.max(Math.min(e.width()/(10*s),parseFloat(o.maxFontSize)),parseFloat(o.minFontSize)))};i(),t(window).on("resize.fittext orientationchange.fittext",i)})}}(jQuery),jQuery(document).ready(function($){function t(t){console.log("===================="),console.log("fixDiv() got called on load");var e=$(".tickets"),i=$(".overview-introduction").outerHeight(),s=$(".overview-article").outerHeight(),o=e.offset().top,r=n.width()-(e.offset().left+e.outerWidth()),l=e.outerHeight(),h,c,u=["js--scrolled-past-content","js--viewing-content","js--stick-at-the-end","js--original-state"],p=u.join(" ");t>1333&&(h=30.6667,c=h/100*1200+"px",r=r/t*100+"%"),a>i+s-l?e.removeClass(p).addClass("js--stick-at-the-end").removeClass("ficksed"):a>o-100&&(e.removeClass(p).addClass("js--viewing-content").addClass("ficksed"),t>1333&&e.css({right:r,width:c}))}function e(t){console.log("===================="),console.log("fixDiv() got called on scroll");var e=$(".tickets"),i=$(".overview-introduction").outerHeight(),s=$(".overview-article").outerHeight(),o=e.offset().top,a=n.width()-(e.offset().left+e.outerWidth()),r=e.outerWidth(),l=e.outerHeight(),h,c,u={window_width:t};$now_fixed=!1,$wrapper_width=.9,$previous_scroll_position=0,$scroll_position=$(this).scrollTop(),$on_scroll_modifiers=["js--scrolled-past-content","js--viewing-content","js--stick-at-the-end","js--original-state"],$on_scroll_modifiers_string=$on_scroll_modifiers.join(" "),$scroll_position>i+s-l+43?(console.log("Block must stick at the end"),e.removeClass($on_scroll_modifiers_string).addClass("js--stick-at-the-end").removeClass("ficksed"),u.window_width>1333&&e.css({right:"",width:""})):$scroll_position>i-90?(console.log("Currently viewing, block must be fixed"),e.removeClass($on_scroll_modifiers_string).addClass("js--viewing-content").addClass("ficksed"),u.window_width>1333&&(console.log("...and width is 1333+"),e.css({right:a,right:(u.window_width-1200)/2/u.window_width*100+"%",width:"368.004px"}))):i-90>$scroll_position&&(console.log("Should bring the block back to its original position"),e.removeClass($on_scroll_modifiers_string).addClass("js--original-state").removeClass("ficksed"),u.window_width>1333?(console.log("Window is 1333+"),e.css({right:"",width:""})):console.log("Window is less than 1333")),$previous_scroll_position=$scroll_position}function i(t){console.log("===================="),console.log("fixDiv() got called on resize");var e=$(".tickets"),i=!1,s=.9;e.hasClass("js--viewing-content")&&t>1333?(console.log("fixDiv got called on resize, while viewing the content and the result width is >1333"),e.css({right:(t-1200)/2/t*100+"%",width:30.6667/100*1200+"px"})):e.hasClass("js--viewing-content")&&e.css({right:"",width:""})}function s(t,e,i,s,o){var n=t;p=setInterval(function(){switch(i.css({marginLeft:n*-s+"%"}),o){case"one":n==e-1?n=0:e-1>t?n++:t=0;break;case"two":n==e-2?n=0:e-2>t?n++:t=0;break;case"three":n==e-3?n=0:e-3>n?n++:t=0}},1e3,n)}function o(){var t=0,e,i;d=0,c.css("marginLeft",0),n.width()<480?(e=100,i="one"):n.width()<=1024?(e=50,i="two"):(e=33.33,i="three"),c.css("width",h*e+"%"),u.css({width:100/h+"%"})}console.log("========================"),console.log("Document ready");var n=$(window),a=$(document).scrollTop(),r=$("body");$(".custom-select").fancySelect(),function(){console.log("===================="),console.log("Enter mobile nav function");var t=$("#nav-trigger"),e=$("#primary-nav-list"),i="open";t.on("click",function(s){console.log("Nav trigger clicked"),s.preventDefault(),n.width()>1100||e.stop().slideToggle(300,function(){e.is(":visible")?t.addClass(i):t.removeClass(i)})}),n.resize(function(){return n.width()<=1100?void(e.is(":visible")&&(e.hide(),t.removeClass(i))):void(t.hasClass(i)||e.css("display",""))})}(),$(".tickets")[0]&&n.width()>480&&(t(n.width()),n.scroll(function(){e(n.width())}),n.resize(function(){i(n.width(),!0)})),function(){$.fn.isOnScreen=function(){var t=n,e={top:t.scrollTop(),left:t.scrollLeft()};e.right=e.left+t.width(),e.bottom=e.top+t.height();var i=this.offset();return i.right=i.left+this.outerWidth(),i.bottom=i.top+this.outerHeight(),!(e.right<i.left||e.left>i.right||e.bottom<i.top||e.top>i.bottom)};var t=$("video");n.scroll(function(){t.each(function(t,e){1==$(e).isOnScreen()?$(e).get(0).play():$(e).get(0).pause()})})}(),$(".dismiss").click(function(t){t.preventDefault();var e=$(this),i=e.data("target"),s=e.data("action-class");console.log("==============================="),console.log("Dismiss button clicked. Target:",i,"— Action class:",s),$("."+i).hasClass("wide-open")?$("."+i).removeClass("wide-open"):$("."+i).addClass(s)}),$("#fake-map").click(function(t){t.preventDefault(),$("#map-sidebar").toggleClass("off-canvas")}),function(){var t=$("#view-event-pictures"),e=$("#map-sidebar");t.click(function(t){t.preventDefault(),e.toggleClass("wide-open")})}(),function(){function t(){var t=new google.maps.LatLng(0,0),e=o.getProjection(),s=e.fromLatLngToDivPixel(t),n=e.fromLatLngToContainerPixel(t),r=s.x-n.x-left,l=s.y-n.y-top,h=o.getSvg().cloneNode(!0),c=document.implementation.createDocument(),u=document.createElement("div"),p=c.createElement("svg"),d=i.getDiv(),f=d.clientWidth,g=d.clientHeight,m=[r,l,f,g].join(" "),v=self.URL||self.webkitURL||self,w,y;p.setAttribute("xmlns","http://www.w3.org/2000/svg"),p.setAttribute("width",f),p.setAttribute("height",g),p.setAttribute("viewBox",m),p.appendChild(h),u.appendChild(p);var b=marker.getIcon(),C=c.createElement("path"),T=e.fromLatLngToDivPixel(marker.getPosition());T.x-=b.scale*b.anchor.x+left,T.y-=b.scale*b.anchor.y+top,C.setAttribute("d",b.path),C.setAttribute("transform","translate("+T.x+","+T.y+") scale("+b.scale+")"),C.setAttribute("fill",b.fillColor),C.setAttribute("stroke",b.strokeColor),C.setAttribute("fill-opacity",b.fillOpacity),C.setAttribute("stroke-opacity",b.strokeOpacity),C.setAttribute("stroke-width",b.strokeWeight),C.setAttribute("vector-effect","non-scaling-stroke"),p.appendChild(C),w=new Blob([u.innerHTML],{type:"image/svg+xml;charset=utf-8"}),y=v.createObjectURL(w),console.log(y),a.src=y}if($("#map_canvas")[0]){var e=[{featureType:"landscape.natural",stylers:[{saturation:-100},{lightness:100}]},{featureType:"transit.station",elementType:"geometry.stroke",stylers:[{color:"#ffc35e"}]},{featureType:"water",stylers:[{saturation:-100},{lightness:100}]},{elementType:"labels.text.stroke",stylers:[{saturation:-100},{lightness:100}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{saturation:-100},{lightness:-75}]},{featureType:"road",elementType:"geometry.fill",stylers:[{saturation:-100},{lightness:97}]},{featureType:"poi.park",stylers:[{saturation:-100},{lightness:-100}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{saturation:-100},{lightness:100}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"landscape.man_made",stylers:[{saturation:-100},{lightness:100}]},{featureType:"administrative",elementType:"labels.text.fill",stylers:[{saturation:-100},{lightness:100}]},{featureType:"administrative",elementType:"labels.text.stroke",stylers:[{saturation:-100},{lightness:-100}]},{featureType:"poi",stylers:[{saturation:-100},{lightness:100}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{saturation:-100},{lightness:-100}]},{featureType:"transit.station",stylers:[{saturation:-100},{lightness:-22}]},{elementType:"labels.text.fill",stylers:[{saturation:1},{lightness:-100}]},{elementType:"labels.text.stroke",stylers:[{saturation:-100},{lightness:100}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#e30513"},{lightness:14},{weight:1.4}]},{featureType:"poi",elementType:"geometry.stroke",stylers:[{color:"#e30513"},{lightness:14},{weight:1.4}]},{featureType:"administrative.locality",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"water",elementType:"labels",stylers:[{visibility:"on"}]}],i=new google.maps.Map(document.getElementById("map_canvas"),{zoom:12,center:new google.maps.LatLng(51.48184,7.21624),mapTypeId:google.maps.MapTypeId.ROADMAP,styles:e}),s=new XMLHttpRequest;s.open("GET","ruhr.svg",!1),s.send();var o=new SvgOverlay({content:s.responseText,map:i}),n=o.getSvg();n.setAttribute("opacity",1);var a=document.getElementById("canvas")}}();var l=$("#map-sidebar-slider");l.unslider({speed:500,delay:4e3,keys:!0,dots:!0}),function(){var t=$("#search-trigger"),e=$("#search-bar"),i=$("#navigation"),s=$("#content"),o=$("#search-field");t.click(function(){console.log("========================"),console.log("Search trigger clicked"),t.toggleClass("triggered"),i.add(s).toggleClass("make-room"),e.toggleClass("visible"),e.hasClass("visible")?o.focus():o.blur()})}();var h=$(".overview__slide").length,c=$(".overview__slide-container"),u=$(".overview__slide"),p,d=0;console.log(h,"slides"),$(".overview__controls .next").click(function(t){t.preventDefault();var e,i,s=d+1,o=d+2;switch(n.width()<480?(e=100,i="one"):n.width()<=1024?(e=50,i="two"):(e=33.33,i="three"),i){case"one":s==h?d=0:d++;break;case"two":s==h-1?d=0:d++;break;case"three":s==h-2?d=0:d++}console.log("$target_slide_index is",s),c.css({marginLeft:d*-e+"%"})}),$(".overview__controls .prev").click(function(t){t.preventDefault();var e,i,s=d-1,o=d-2;switch(n.width()<480?(e=100,i="one"):n.width()<=1024?(e=50,i="two"):(e=33.33,i="three"),i){case"one":0>s?(d=h-1,s=h-1):d--;break;case"two":0>s?(d=h-2,s=h-2):d--;break;case"three":0>s?(d=h-3,s=h-3):d--}c.css({marginLeft:s*-e+"%"})}),o(),n.resize($.debounce(300,function(){clearInterval(p),o()})),function(){var t=$("body"),e=$("#st-container"),i=$("#toggle-tickets"),s=$("#st-tickets"),o=0,n=["close","buy tickets","close"];i.click(function(i){console.log("Trigger clicked"),i.preventDefault(),e.toggleClass("st-tickets-open"),t.toggleClass("hidden"),$(this).toggleClass("on")}),i.on("click",function(){$(this).text(function(t,e){return t=$.inArray(e,n),n[++t%n.length]})})}();var f=$(document).height()-$(window).height()-$(window).scrollTop(),g=$(".overview-introduction").outerHeight(),m=$(".overview-article")+$(".overview-introduction").outerHeight();if(console.log(m),$(window).scroll(function(){$(window).scrollTop()>g?$(".sidebar-reveal").css({display:"block"}):$(window).scrollTop()<g?$(".sidebar-reveal").css({display:"none"}):$(window).scrollTop()<m&&$(".sidebar-reveal").css({display:"none"})}),document.getElementById("switch-to-map")){var v=document.getElementById("switch-to-map"),w=document.getElementById("animation-start"),y=document.getElementById("animation-return");v.addEventListener("mouseover",function(){v.classList.add("expend"),w.beginElement()},!1),v.addEventListener("mouseout",function(){v.classList.remove("expend"),y.beginElement(),console.log(y)},!1)}!function(){function t(){i.css({marginTop:"",marginBottom:""}),s=!1}function e(){i.each(function(t,e){$(e).css({marginTop:Math.floor(150*Math.random())+20,marginBottom:Math.floor(80*Math.random())+30})}),s=!0}var i=$(".home-news__block:not(.home-news__block--featured)"),s=!1;n.width()>780?e():t(),n.resize(function(){n.width()<780?t():0==s&&e()})}(),function(){var t=$(".home-news");t.each(function(t,e){new Masonry(e,{itemSelector:".home-news__block",columnWidth:".home-news__block--poster",transitionDuration:0})})}()});
=======
<<<<<<< HEAD
!function(t,e){var $=t.jQuery||t.Cowboy||(t.Cowboy={}),s;$.throttle=s=function(t,s,i,n){function o(){function o(){r=+new Date,i.apply(h,u)}function l(){a=e}var h=this,c=+new Date-r,u=arguments;n&&!a&&o(),a&&clearTimeout(a),n===e&&c>t?o():s!==!0&&(a=setTimeout(n?l:o,n===e?t-c:t))}var a,r=0;return"boolean"!=typeof s&&(n=i,i=s,s=e),$.guid&&(o.guid=i.guid=i.guid||$.guid++),o},$.debounce=function(t,i,n){return n===e?s(t,i,!1):s(t,n,i!==!1)}}(this),function(){var t;t=window.jQuery||window.Zepto||window.$,t.fn.fancySelect=function(e){var s,i;return null==e&&(e={}),i=t.extend({forceiOS:!1,includeBlank:!1,optionTemplate:function(t){return t.text()},triggerTemplate:function(t){return t.text()}},e),s=!!navigator.userAgent.match(/iP(hone|od|ad)/i),this.each(function(){var e,n,o,a,r,l,h;return a=t(this),a.hasClass("fancified")||"SELECT"!==a[0].tagName?void 0:(a.addClass("fancified"),a.css({width:1,height:1,display:"block",position:"absolute",top:0,left:0,opacity:0}),a.wrap('<div class="fancy-select">'),h=a.parent(),a.data("class")&&h.addClass(a.data("class")),h.append('<div class="trigger">'),(!s||i.forceiOS)&&h.append('<ul class="options">'),r=h.find(".trigger"),o=h.find(".options"),n=a.prop("disabled"),n&&h.addClass("disabled"),l=function(){var t;return t=i.triggerTemplate(a.find(":selected")),r.html(t)},a.on("blur.fs",function(){return r.hasClass("open")?setTimeout(function(){return r.trigger("close.fs")},120):void 0}),r.on("close.fs",function(){return r.removeClass("open"),o.removeClass("open")}),r.on("click.fs",function(){var e,l;if(!n)if(r.toggleClass("open"),s&&!i.forceiOS){if(r.hasClass("open"))return a.focus()}else if(r.hasClass("open")&&(l=r.parent(),e=l.offsetParent(),l.offset().top+l.outerHeight()+o.outerHeight()+20>t(window).height()+t(window).scrollTop()?o.addClass("overflowing"):o.removeClass("overflowing")),o.toggleClass("open"),!s)return a.focus()}),a.on("enable",function(){return a.prop("disabled",!1),h.removeClass("disabled"),n=!1,e()}),a.on("disable",function(){return a.prop("disabled",!0),h.addClass("disabled"),n=!0}),a.on("change.fs",function(t){return t.originalEvent&&t.originalEvent.isTrusted?t.stopPropagation():l()}),a.on("keydown",function(t){var e,s,i;if(i=t.which,e=o.find(".hover"),e.removeClass("hover"),o.hasClass("open")){if(38===i?(t.preventDefault(),e.length&&e.index()>0?e.prev().addClass("hover"):o.find("li:last-child").addClass("hover")):40===i?(t.preventDefault(),e.length&&e.index()<o.find("li").length-1?e.next().addClass("hover"):o.find("li:first-child").addClass("hover")):27===i?(t.preventDefault(),r.trigger("click.fs")):13===i||32===i?(t.preventDefault(),e.trigger("click.fs")):9===i&&r.hasClass("open")&&r.trigger("close.fs"),s=o.find(".hover"),s.length)return o.scrollTop(0),o.scrollTop(s.position().top-12)}else if(13===i||32===i||38===i||40===i)return t.preventDefault(),r.trigger("click.fs")}),o.on("click.fs","li",function(e){var i;return i=t(this),a.val(i.data("raw-value")),s||a.trigger("blur.fs").trigger("focus.fs"),o.find(".selected").removeClass("selected"),i.addClass("selected"),r.addClass("selected"),a.val(i.data("raw-value")).trigger("change.fs").trigger("blur.fs").trigger("focus.fs")}),o.on("mouseenter.fs","li",function(){var e,s;return s=t(this),e=o.find(".hover"),e.removeClass("hover"),s.addClass("hover")}),o.on("mouseleave.fs","li",function(){return o.find(".hover").removeClass("hover")}),e=function(){var e;return l(),!s||i.forceiOS?(e=a.find("option"),a.find("option").each(function(e,s){var n;return s=t(s),s.prop("disabled")||!s.val()&&!i.includeBlank?void 0:(n=i.optionTemplate(s),o.append(s.prop("selected")?'<li data-raw-value="'+s.val()+'" class="selected">'+n+"</li>":'<li data-raw-value="'+s.val()+'">'+n+"</li>"))})):void 0},a.on("update.fs",function(){return h.find(".options").empty(),e()}),e())})}}.call(this),function(t,e){"function"==typeof define&&define.amd?define(e):t.Dragdealer=e()}(this,function(){function t(t){var e="Webkit Moz ms O".split(" "),s=document.documentElement.style;if(void 0!==s[t])return t;t=t.charAt(0).toUpperCase()+t.substr(1);for(var i=0;i<e.length;i++)if(void 0!==s[e[i]+t])return e[i]+t}function e(t){c.backfaceVisibility&&c.perspective&&(t.style[c.perspective]="1000px",t.style[c.backfaceVisibility]="hidden")}var s=function(t,e){this.options=this.applyDefaults(e||{}),this.bindMethods(),this.wrapper=this.getWrapperElement(t),this.wrapper&&(this.handle=this.getHandleElement(this.wrapper,this.options.handleClass),this.handle&&(this.init(),this.bindEventListeners()))};s.prototype={defaults:{disabled:!1,horizontal:!0,vertical:!1,slide:!0,steps:0,snap:!1,loose:!1,speed:.1,xPrecision:0,yPrecision:0,handleClass:"handle",css3:!0,activeClass:"active",tapping:!0},init:function(){this.options.css3&&e(this.handle),this.value={prev:[-1,-1],current:[this.options.x||0,this.options.y||0],target:[this.options.x||0,this.options.y||0]},this.offset={wrapper:[0,0],mouse:[0,0],prev:[-999999,-999999],current:[0,0],target:[0,0]},this.change=[0,0],this.stepRatios=this.calculateStepRatios(),this.activity=!1,this.dragging=!1,this.tapping=!1,this.reflow(),this.options.disabled&&this.disable()},applyDefaults:function(t){for(var e in this.defaults)t.hasOwnProperty(e)||(t[e]=this.defaults[e]);return t},getWrapperElement:function(t){return"string"==typeof t?document.getElementById(t):t},getHandleElement:function(t,e){var s,i,n;if(t.getElementsByClassName){if(s=t.getElementsByClassName(e),s.length>0)return s[0]}else for(i=new RegExp("(^|\\s)"+e+"(\\s|$)"),s=t.getElementsByTagName("*"),n=0;n<s.length;n++)if(i.test(s[n].className))return s[n]},calculateStepRatios:function(){var t=[];if(this.options.steps>1)for(var e=0;e<=this.options.steps-1;e++)t[e]=e/(this.options.steps-1);return t},setWrapperOffset:function(){this.offset.wrapper=h.get(this.wrapper)},calculateBounds:function(){var t={top:this.options.top||0,bottom:-(this.options.bottom||0)+this.wrapper.offsetHeight,left:this.options.left||0,right:-(this.options.right||0)+this.wrapper.offsetWidth};return t.availWidth=t.right-t.left-this.handle.offsetWidth,t.availHeight=t.bottom-t.top-this.handle.offsetHeight,t},calculateValuePrecision:function(){var t=this.options.xPrecision||Math.abs(this.bounds.availWidth),e=this.options.yPrecision||Math.abs(this.bounds.availHeight);return[t?1/t:0,e?1/e:0]},bindMethods:function(){this.requestAnimationFrame="function"==typeof this.options.customRequestAnimationFrame?i(this.options.customRequestAnimationFrame,window):i(p,window),this.cancelAnimationFrame="function"==typeof this.options.customCancelAnimationFrame?i(this.options.customCancelAnimationFrame,window):i(d,window),this.animateWithRequestAnimationFrame=i(this.animateWithRequestAnimationFrame,this),this.animate=i(this.animate,this),this.onHandleMouseDown=i(this.onHandleMouseDown,this),this.onHandleTouchStart=i(this.onHandleTouchStart,this),this.onDocumentMouseMove=i(this.onDocumentMouseMove,this),this.onWrapperTouchMove=i(this.onWrapperTouchMove,this),this.onWrapperMouseDown=i(this.onWrapperMouseDown,this),this.onWrapperTouchStart=i(this.onWrapperTouchStart,this),this.onDocumentMouseUp=i(this.onDocumentMouseUp,this),this.onDocumentTouchEnd=i(this.onDocumentTouchEnd,this),this.onHandleClick=i(this.onHandleClick,this),this.onWindowResize=i(this.onWindowResize,this)},bindEventListeners:function(){n(this.handle,"mousedown",this.onHandleMouseDown),n(this.handle,"touchstart",this.onHandleTouchStart),n(document,"mousemove",this.onDocumentMouseMove),n(this.wrapper,"touchmove",this.onWrapperTouchMove),n(this.wrapper,"mousedown",this.onWrapperMouseDown),n(this.wrapper,"touchstart",this.onWrapperTouchStart),n(document,"mouseup",this.onDocumentMouseUp),n(document,"touchend",this.onDocumentTouchEnd),n(this.handle,"click",this.onHandleClick),n(window,"resize",this.onWindowResize),this.animate(!1,!0),this.interval=this.requestAnimationFrame(this.animateWithRequestAnimationFrame)},unbindEventListeners:function(){o(this.handle,"mousedown",this.onHandleMouseDown),o(this.handle,"touchstart",this.onHandleTouchStart),o(document,"mousemove",this.onDocumentMouseMove),o(this.wrapper,"touchmove",this.onWrapperTouchMove),o(this.wrapper,"mousedown",this.onWrapperMouseDown),o(this.wrapper,"touchstart",this.onWrapperTouchStart),o(document,"mouseup",this.onDocumentMouseUp),o(document,"touchend",this.onDocumentTouchEnd),o(this.handle,"click",this.onHandleClick),o(window,"resize",this.onWindowResize),this.cancelAnimationFrame(this.interval)},onHandleMouseDown:function(t){l.refresh(t),a(t),r(t),this.activity=!1,this.startDrag()},onHandleTouchStart:function(t){l.refresh(t),r(t),this.activity=!1,this.startDrag()},onDocumentMouseMove:function(t){l.refresh(t),this.dragging&&(this.activity=!0)},onWrapperTouchMove:function(t){return l.refresh(t),!this.activity&&this.draggingOnDisabledAxis()?void(this.dragging&&this.stopDrag()):(a(t),void(this.activity=!0))},onWrapperMouseDown:function(t){l.refresh(t),a(t),this.startTap()},onWrapperTouchStart:function(t){l.refresh(t),a(t),this.startTap()},onDocumentMouseUp:function(t){this.stopDrag(),this.stopTap()},onDocumentTouchEnd:function(t){this.stopDrag(),this.stopTap()},onHandleClick:function(t){this.activity&&(a(t),r(t))},onWindowResize:function(t){this.reflow()},enable:function(){this.disabled=!1,this.handle.className=this.handle.className.replace(/\s?disabled/g,"")},disable:function(){this.disabled=!0,this.handle.className+=" disabled"},reflow:function(){this.setWrapperOffset(),this.bounds=this.calculateBounds(),this.valuePrecision=this.calculateValuePrecision(),this.updateOffsetFromValue()},getStep:function(){return[this.getStepNumber(this.value.target[0]),this.getStepNumber(this.value.target[1])]},getValue:function(){return this.value.target},setStep:function(t,e,s){this.setValue(this.options.steps&&t>1?(t-1)/(this.options.steps-1):0,this.options.steps&&e>1?(e-1)/(this.options.steps-1):0,s)},setValue:function(t,e,s){this.setTargetValue([t,e||0]),s&&(this.groupCopy(this.value.current,this.value.target),this.updateOffsetFromValue(),this.callAnimationCallback())},startTap:function(){!this.disabled&&this.options.tapping&&(this.tapping=!0,this.setWrapperOffset(),this.setTargetValueByOffset([l.x-this.offset.wrapper[0]-this.handle.offsetWidth/2,l.y-this.offset.wrapper[1]-this.handle.offsetHeight/2]))},stopTap:function(){!this.disabled&&this.tapping&&(this.tapping=!1,this.setTargetValue(this.value.current))},startDrag:function(){this.disabled||(this.dragging=!0,this.setWrapperOffset(),this.offset.mouse=[l.x-h.get(this.handle)[0],l.y-h.get(this.handle)[1]],this.wrapper.className.match(this.options.activeClass)||(this.wrapper.className+=" "+this.options.activeClass))},stopDrag:function(){if(!this.disabled&&this.dragging){this.dragging=!1;var t=this.groupClone(this.value.current);if(this.options.slide){var e=this.change;t[0]+=4*e[0],t[1]+=4*e[1]}this.setTargetValue(t),this.wrapper.className=this.wrapper.className.replace(" "+this.options.activeClass,"")}},callAnimationCallback:function(){var t=this.value.current;this.options.snap&&this.options.steps>1&&(t=this.getClosestSteps(t)),this.groupCompare(t,this.value.prev)||("function"==typeof this.options.animationCallback&&this.options.animationCallback.call(this,t[0],t[1]),this.groupCopy(this.value.prev,t))},callTargetCallback:function(){"function"==typeof this.options.callback&&this.options.callback.call(this,this.value.target[0],this.value.target[1])},animateWithRequestAnimationFrame:function(t){t?(this.timeOffset=this.timeStamp?t-this.timeStamp:0,this.timeStamp=t):this.timeOffset=25,this.animate(),this.interval=this.requestAnimationFrame(this.animateWithRequestAnimationFrame)},animate:function(t,e){if(!t||this.dragging){if(this.dragging){var s=this.groupClone(this.value.target),i=[l.x-this.offset.wrapper[0]-this.offset.mouse[0],l.y-this.offset.wrapper[1]-this.offset.mouse[1]];this.setTargetValueByOffset(i,this.options.loose),this.change=[this.value.target[0]-s[0],this.value.target[1]-s[1]]}(this.dragging||e)&&this.groupCopy(this.value.current,this.value.target),(this.dragging||this.glide()||e)&&(this.updateOffsetFromValue(),this.callAnimationCallback())}},glide:function(){var t=[this.value.target[0]-this.value.current[0],this.value.target[1]-this.value.current[1]];return t[0]||t[1]?(Math.abs(t[0])>this.valuePrecision[0]||Math.abs(t[1])>this.valuePrecision[1]?(this.value.current[0]+=t[0]*this.options.speed*this.timeOffset/25,this.value.current[1]+=t[1]*this.options.speed*this.timeOffset/25):this.groupCopy(this.value.current,this.value.target),!0):!1},updateOffsetFromValue:function(){this.offset.current=this.getOffsetsByRatios(this.options.snap?this.getClosestSteps(this.value.current):this.value.current),this.groupCompare(this.offset.current,this.offset.prev)||(this.renderHandlePosition(),this.groupCopy(this.offset.prev,this.offset.current))},renderHandlePosition:function(){var t="";return this.options.css3&&c.transform?(this.options.horizontal&&(t+="translateX("+this.offset.current[0]+"px)"),this.options.vertical&&(t+=" translateY("+this.offset.current[1]+"px)"),void(this.handle.style[c.transform]=t)):(this.options.horizontal&&(this.handle.style.left=this.offset.current[0]+"px"),void(this.options.vertical&&(this.handle.style.top=this.offset.current[1]+"px")))},setTargetValue:function(t,e){var s=e?this.getLooseValue(t):this.getProperValue(t);this.groupCopy(this.value.target,s),this.offset.target=this.getOffsetsByRatios(s),this.callTargetCallback()},setTargetValueByOffset:function(t,e){var s=this.getRatiosByOffsets(t),i=e?this.getLooseValue(s):this.getProperValue(s);this.groupCopy(this.value.target,i),this.offset.target=this.getOffsetsByRatios(i)},getLooseValue:function(t){var e=this.getProperValue(t);return[e[0]+(t[0]-e[0])/4,e[1]+(t[1]-e[1])/4]},getProperValue:function(t){var e=this.groupClone(t);return e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0),e[0]=Math.min(e[0],1),e[1]=Math.min(e[1],1),(!this.dragging&&!this.tapping||this.options.snap)&&this.options.steps>1&&(e=this.getClosestSteps(e)),e},getRatiosByOffsets:function(t){return[this.getRatioByOffset(t[0],this.bounds.availWidth,this.bounds.left),this.getRatioByOffset(t[1],this.bounds.availHeight,this.bounds.top)]},getRatioByOffset:function(t,e,s){return e?(t-s)/e:0},getOffsetsByRatios:function(t){return[this.getOffsetByRatio(t[0],this.bounds.availWidth,this.bounds.left),this.getOffsetByRatio(t[1],this.bounds.availHeight,this.bounds.top)]},getOffsetByRatio:function(t,e,s){return Math.round(t*e)+s},getStepNumber:function(t){return this.getClosestStep(t)*(this.options.steps-1)+1},getClosestSteps:function(t){return[this.getClosestStep(t[0]),this.getClosestStep(t[1])]},getClosestStep:function(t){for(var e=0,s=1,i=0;i<=this.options.steps-1;i++)Math.abs(this.stepRatios[i]-t)<s&&(s=Math.abs(this.stepRatios[i]-t),e=i);return this.stepRatios[e]},groupCompare:function(t,e){return t[0]==e[0]&&t[1]==e[1]},groupCopy:function(t,e){t[0]=e[0],t[1]=e[1]},groupClone:function(t){return[t[0],t[1]]},draggingOnDisabledAxis:function(){return!this.options.horizontal&&l.xDiff>l.yDiff||!this.options.vertical&&l.yDiff>l.xDiff}};for(var i=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e,s){t.addEventListener?t.addEventListener(e,s,!1):t.attachEvent&&t.attachEvent("on"+e,s)},o=function(t,e,s){t.removeEventListener?t.removeEventListener(e,s,!1):t.detachEvent&&t.detachEvent("on"+e,s)},a=function(t){t||(t=window.event),t.preventDefault&&t.preventDefault(),t.returnValue=!1},r=function(t){t||(t=window.event),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0},l={x:0,y:0,xDiff:0,yDiff:0,refresh:function(t){t||(t=window.event),"mousemove"==t.type?this.set(t):t.touches&&this.set(t.touches[0])},set:function(t){var e=this.x,s=this.y;t.clientX||t.clientY?(this.x=t.clientX,this.y=t.clientY):(t.pageX||t.pageY)&&(this.x=t.pageX-document.body.scrollLeft-document.documentElement.scrollLeft,this.y=t.pageY-document.body.scrollTop-document.documentElement.scrollTop),this.xDiff=Math.abs(this.x-e),this.yDiff=Math.abs(this.y-s)}},h={get:function(t){var e={left:0,top:0};return void 0!==t.getBoundingClientRect&&(e=t.getBoundingClientRect()),[e.left,e.top]}},c={transform:t("transform"),perspective:t("perspective"),backfaceVisibility:t("backfaceVisibility")},u=["webkit","moz"],p=window.requestAnimationFrame,d=window.cancelAnimationFrame,f=0;f<u.length&&!p;++f)p=window[u[f]+"RequestAnimationFrame"],d=window[u[f]+"CancelAnimationFrame"]||window[u[f]+"CancelRequestAnimationFrame"];return p||(p=function(t){return setTimeout(t,25)},d=clearTimeout),s}),function(t,e){if(!t)return e;var s=function(){this.el=e,this.items=e,this.sizes=[],this.max=[0,0],this.current=0,this.interval=e,this.opts={speed:500,delay:3e3,complete:e,keys:!e,dots:e,fluid:e};var s=this;this.init=function(e,s){return this.el=e,this.ul=e.children("ul"),this.max=[e.outerWidth(),e.outerHeight()],this.items=this.ul.children("li").each(this.calculate),this.opts=t.extend(this.opts,s),this.setup(),this},this.calculate=function(e){var i=t(this),n=i.outerWidth(),o=i.outerHeight();s.sizes[e]=[n,o],n>s.max[0]&&(s.max[0]=n),o>s.max[1]&&(s.max[1]=o)},this.setup=function(){if(this.el.css({overflow:"hidden",width:s.max[0],height:this.items.first().outerHeight()}),this.ul.css({width:100*this.items.length+"%",position:"relative"}),this.items.css("width",100/this.items.length+"%"),this.opts.delay!==e&&(this.start(),this.el.hover(this.stop,this.start)),this.opts.keys&&t(document).keydown(this.keys),this.opts.dots&&this.dots(),this.opts.fluid){var i=function(){s.el.css("width",Math.min(Math.round(s.el.outerWidth()/s.el.parent().outerWidth()*100),100)+"%")};i(),t(window).resize(i)}this.opts.arrows&&this.el.parent().append('<p class="arrows"><span class="prev">â†</span><span class="next">â†’</span></p>').find(".arrows span").click(function(){t.isFunction(s[this.className])&&s[this.className]()}),t.event.swipe&&this.el.on("swipeleft",s.prev).on("swiperight",s.next)},this.move=function(e,i){this.items.eq(e).length||(e=0),0>e&&(e=this.items.length-1);var n=this.items.eq(e),o={height:n.outerHeight()},a=i?5:this.opts.speed;this.ul.is(":animated")||(s.el.find(".dot:eq("+e+")").addClass("active").siblings().removeClass("active"),this.el.animate(o,a)&&this.ul.animate(t.extend({left:"-"+e+"00%"},o),a,function(n){s.current=e,t.isFunction(s.opts.complete)&&!i&&s.opts.complete(s.el)}))},this.start=function(){s.interval=setInterval(function(){s.move(s.current+1)},s.opts.delay)},this.stop=function(){return s.interval=clearInterval(s.interval),s},this.keys=function(e){var i=e.which,n={37:s.prev,39:s.next,27:s.stop};t.isFunction(n[i])&&n[i]()},this.next=function(){return s.stop().move(s.current+1)},this.prev=function(){return s.stop().move(s.current-1)},this.dots=function(){var e='<ol class="dots">';t.each(this.items,function(t){e+='<li class="dot'+(1>t?" active":"")+'">'+(t+1)+"</li>"}),e+="</ol>",this.el.addClass("has-dots").append(e).find(".dot").click(function(){s.move(t(this).index())})}};t.fn.unslider=function(e){var i=this.length;return this.each(function(n){var o=t(this),a=(new s).init(o,e);o.data("unslider"+(i>1?"-"+(n+1):""),a)})}}(window.jQuery,!1),function(t){t.fn.fitText=function(e,s){var i=e||1,n=t.extend({minFontSize:Number.NEGATIVE_INFINITY,maxFontSize:Number.POSITIVE_INFINITY},s);return this.each(function(){var e=t(this),s=function(){e.css("font-size",Math.max(Math.min(e.width()/(10*i),parseFloat(n.maxFontSize)),parseFloat(n.minFontSize)))};s(),t(window).on("resize.fittext orientationchange.fittext",s)})}}(jQuery),jQuery(document).ready(function($){function t(t){console.log("===================="),console.log("fixDiv() got called on load");var e=$(".tickets"),s=$(".overview-introduction").outerHeight(),i=$(".overview-article").outerHeight(),n=e.offset().top,r=o.width()-(e.offset().left+e.outerWidth()),l=e.outerHeight(),h,c,u=["js--scrolled-past-content","js--viewing-content","js--stick-at-the-end","js--original-state"],p=u.join(" ");t>1333&&(h=30.6667,c=h/100*1200+"px",r=r/t*100+"%"),a>s+i-l?e.removeClass(p).addClass("js--stick-at-the-end").removeClass("ficksed"):a>n-100&&(e.removeClass(p).addClass("js--viewing-content").addClass("ficksed"),t>1333&&e.css({right:r,width:c}))}function e(t){console.log("===================="),console.log("fixDiv() got called on scroll");var e=$(".tickets"),s=$(".overview-introduction").outerHeight(),i=$(".overview-article").outerHeight(),n=e.offset().top,a=o.width()-(e.offset().left+e.outerWidth()),r=e.outerWidth(),l=e.outerHeight(),h,c,u={window_width:t};$now_fixed=!1,$wrapper_width=.9,$previous_scroll_position=0,$scroll_position=$(this).scrollTop(),$on_scroll_modifiers=["js--scrolled-past-content","js--viewing-content","js--stick-at-the-end","js--original-state"],$on_scroll_modifiers_string=$on_scroll_modifiers.join(" "),$scroll_position>s+i-l-90?(console.log("Block must stick at the end"),e.removeClass($on_scroll_modifiers_string).addClass("js--stick-at-the-end").removeClass("ficksed"),u.window_width>1333&&e.css({right:"",width:""})):$scroll_position>s-143?(console.log("Currently viewing, block must be fixed"),e.removeClass($on_scroll_modifiers_string).addClass("js--viewing-content").addClass("ficksed"),u.window_width>1333&&(console.log("...and width is 1333+"),e.css({right:a,right:(u.window_width-1200)/2/u.window_width*100+"%",width:"368.004px"}))):s-143>$scroll_position&&(console.log("Should bring the block back to its original position"),e.removeClass($on_scroll_modifiers_string).addClass("js--original-state").removeClass("ficksed"),u.window_width>1333?(console.log("Window is 1333+"),e.css({right:"",width:""})):console.log("Window is less than 1333")),$previous_scroll_position=$scroll_position}function s(t){console.log("===================="),console.log("fixDiv() got called on resize");var e=$(".tickets"),s=!1,i=.9;e.hasClass("js--viewing-content")&&t>1333?(console.log("fixDiv got called on resize, while viewing the content and the result width is >1333"),e.css({right:(t-1200)/2/t*100+"%",width:30.6667/100*1200+"px"})):e.hasClass("js--viewing-content")&&e.css({right:"",width:""})}function i(t,e,s,i,n){var o=t;p=setInterval(function(){switch(s.css({marginLeft:o*-i+"%"}),n){case"one":o==e-1?o=0:e-1>t?o++:t=0;break;case"two":o==e-2?o=0:e-2>t?o++:t=0;break;case"three":o==e-3?o=0:e-3>o?o++:t=0}},1e3,o)}function n(){var t=0,e,s;d=0,c.css("marginLeft",0),o.width()<480?(e=100,s="one"):o.width()<=1024?(e=50,s="two"):(e=33.33,s="three"),c.css("width",h*e+"%"),u.css({width:100/h+"%"})}console.log("========================"),console.log("Document ready");var o=$(window),a=$(document).scrollTop(),r=$("body");$(".custom-select").fancySelect(),function(){console.log("===================="),console.log("Enter mobile nav function");var t=$("#nav-trigger"),e=$("#primary-nav-list"),s="open";t.on("click",function(i){console.log("Nav trigger clicked"),i.preventDefault(),o.width()>1100||e.stop().slideToggle(300,function(){e.is(":visible")?t.addClass(s):t.removeClass(s)})}),o.resize(function(){return o.width()<=1100?void(e.is(":visible")&&(e.hide(),t.removeClass(s))):void(t.hasClass(s)||e.css("display",""))})}(),$(".tickets")[0]&&o.width()>480&&(t(o.width()),o.scroll(function(){e(o.width())}),o.resize(function(){s(o.width(),!0)})),function(){$.fn.isOnScreen=function(){var t=o,e={top:t.scrollTop(),left:t.scrollLeft()};e.right=e.left+t.width(),e.bottom=e.top+t.height();var s=this.offset();return s.right=s.left+this.outerWidth(),s.bottom=s.top+this.outerHeight(),!(e.right<s.left||e.left>s.right||e.bottom<s.top||e.top>s.bottom)};var t=$("video");o.scroll(function(){t.each(function(t,e){1==$(e).isOnScreen()?$(e).get(0).play():$(e).get(0).pause()})})}(),$(".dismiss").click(function(t){t.preventDefault();var e=$(this),s=e.data("target"),i=e.data("action-class");console.log("==============================="),console.log("Dismiss button clicked. Target:",s,"— Action class:",i),$("."+s).hasClass("wide-open")?$("."+s).removeClass("wide-open"):$("."+s).addClass(i)}),function(){var t=$("#view-event-pictures"),e=$("#map-sidebar");t.click(function(t){t.preventDefault(),e.toggleClass("wide-open")})}(),function(){function t(){var t=new google.maps.LatLng(0,0),e=n.getProjection(),i=e.fromLatLngToDivPixel(t),o=e.fromLatLngToContainerPixel(t),a=i.x-o.x-left,r=i.y-o.y-top,l=n.getSvg().cloneNode(!0),h=document.implementation.createDocument(),u=document.createElement("div"),p=h.createElement("svg"),d=s.getDiv(),f=d.clientWidth,v=d.clientHeight,m=[a,r,f,v].join(" "),w=self.URL||self.webkitURL||self,y,b;p.setAttribute("xmlns","http://www.w3.org/2000/svg"),p.setAttribute("width",f),p.setAttribute("height",v),p.setAttribute("viewBox",m),p.appendChild(l),u.appendChild(p);var C=c.getIcon(),T=h.createElement("path"),k=e.fromLatLngToDivPixel(c.getPosition());k.x-=C.scale*C.anchor.x+left,k.y-=C.scale*C.anchor.y+top,T.setAttribute("d",C.path),T.setAttribute("transform","translate("+k.x+","+k.y+") scale("+C.scale+")"),T.setAttribute("fill",C.fillColor),T.setAttribute("stroke",C.strokeColor),T.setAttribute("fill-opacity",C.fillOpacity),T.setAttribute("stroke-opacity",C.strokeOpacity),T.setAttribute("stroke-width",C.strokeWeight),T.setAttribute("vector-effect","non-scaling-stroke"),p.appendChild(T),y=new Blob([u.innerHTML],{type:"image/svg+xml;charset=utf-8"}),b=w.createObjectURL(y),console.log(b),g.src=b}if($("#map_canvas")[0]){var e=[{featureType:"landscape.natural",stylers:[{saturation:-100},{lightness:100}]},{featureType:"transit.station",elementType:"geometry.stroke",stylers:[{color:"#ffc35e"}]},{featureType:"water",stylers:[{saturation:-100},{lightness:100}]},{elementType:"labels.text.stroke",stylers:[{saturation:-100},{lightness:100}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{saturation:-100},{lightness:-75}]},{featureType:"road",elementType:"geometry.fill",stylers:[{saturation:-100},{lightness:97}]},{featureType:"poi.park",stylers:[{saturation:-100},{lightness:-100}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{saturation:-100},{lightness:100}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"landscape.man_made",stylers:[{saturation:-100},{lightness:100}]},{featureType:"administrative",elementType:"labels.text.fill",stylers:[{saturation:-100},{lightness:100}]},{featureType:"administrative",elementType:"labels.text.stroke",stylers:[{saturation:-100},{lightness:-100}]},{featureType:"poi",stylers:[{saturation:-100},{lightness:100}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{saturation:-100},{lightness:-100}]},{featureType:"transit.station",stylers:[{saturation:-100},{lightness:-22}]},{elementType:"labels.text.fill",stylers:[{saturation:1},{lightness:-100}]},{elementType:"labels.text.stroke",stylers:[{saturation:-100},{lightness:100}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#e30513"},{lightness:14},{weight:1.4}]},{featureType:"poi",elementType:"geometry.stroke",stylers:[{color:"#e30513"},{lightness:14},{weight:1.4}]},{featureType:"administrative.locality",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"water",elementType:"labels",stylers:[{visibility:"on"}]}],s=new google.maps.Map(document.getElementById("map_canvas"),{zoom:12,center:new google.maps.LatLng(51.48184,7.21624),mapTypeId:google.maps.MapTypeId.ROADMAP,styles:e}),i=new XMLHttpRequest;i.open("GET","ruhr.svg",!1),i.send();var n=new SvgOverlay({content:i.responseText,map:s}),o=n.getSvg();o.setAttribute("opacity",1);var a=new google.maps.LatLngBounds,r=[["Castelluci - Bochum",51.48184,7.21624],["Barney - Essen",51.455643,7.011555],["Feldman - Dortmund",51.51359,7.4653]],l=[['<div class="info_content"><h3>Castelluci - Bochum</h3></div>'],['<div class="info_content"><h3>Barney - Essen</h3></div>'],['<div class="info_content"><h3>Feldman - Dortmund</h3></div>']],h=new google.maps.InfoWindow,c,u;google.maps.event.addListener(h,"domready",function(){for(var t=$("#info_content").parent().parent().parent().parent(),e=0;e<t.length;e++)"auto"==$(t[e]).css("z-index")&&($(t[e]).css("text-align","center"),$(t[e]).css("font-size","17px"),$(t[e]).css("cursor","pointer"))});for(var u=0;u<r.length;u++){var c=new google.maps.Marker({position:new google.maps.LatLng(r[u][1],r[u][2]),map:s}),p="M1.7317647058823529";c.setIcon({anchor:new google.maps.Point(.85,.85),path:p});var d=new google.maps.InfoWindow({content:r[u][0],maxWidth:160});d.open(s,c)}var f=$("#info_content");$(document).on("click",f,function(){$("#map-sidebar").toggleClass("off-canvas")}),google.maps.event.addListenerOnce(s,"tilesloaded",function(){h.open(s,c)}),h.open(s,c);var g=document.getElementById("canvas")}}();var l=$("#map-sidebar-slider");l.unslider({speed:500,delay:4e3,keys:!0,dots:!0}),function(){var t=$("#search-trigger"),e=$("#search-bar"),s=$("#navigation"),i=$("#content"),n=$("#search-field");t.click(function(){console.log("========================"),console.log("Search trigger clicked"),t.toggleClass("triggered"),s.add(i).toggleClass("make-room"),e.toggleClass("visible"),e.hasClass("visible")?n.focus():n.blur()})}();var h=$(".overview__slide").length,c=$(".overview__slide-container"),u=$(".overview__slide"),p,d=0;console.log(h,"slides"),$(".overview__controls .next").click(function(t){t.preventDefault();var e,s,i=d+1,n=d+2;switch(o.width()<480?(e=100,s="one"):o.width()<=1024?(e=50,s="two"):(e=33.33,s="three"),s){case"one":i==h?d=0:d++;break;case"two":i==h-1?d=0:d++;break;case"three":i==h-2?d=0:d++}console.log("$target_slide_index is",i),c.css({marginLeft:d*-e+"%"})}),$(".overview__controls .prev").click(function(t){t.preventDefault();var e,s,i=d-1,n=d-2;switch(o.width()<480?(e=100,s="one"):o.width()<=1024?(e=50,s="two"):(e=33.33,s="three"),s){case"one":0>i?(d=h-1,i=h-1):d--;break;case"two":0>i?(d=h-2,i=h-2):d--;break;case"three":0>i?(d=h-3,i=h-3):d--}c.css({marginLeft:i*-e+"%"})}),n(),o.resize($.debounce(300,function(){clearInterval(p),n()})),function(){var t=$("body"),e=$("#st-container"),s=$("#toggle-tickets"),i=$("#st-tickets"),n=0,o=["close","buy tickets","close"];s.click(function(s){console.log("Trigger clicked"),s.preventDefault(),e.toggleClass("st-tickets-open"),t.toggleClass("hidden"),$(this).toggleClass("on")}),s.on("click",function(){$(this).text(function(t,e){return t=$.inArray(e,o),o[++t%o.length]})})}();var f=$(document).height()-$(window).height()-$(window).scrollTop(),g=$(".overview-introduction").outerHeight(),v=$(".overview-article")+$(".overview-introduction").outerHeight();if(console.log(v),$(window).scroll(function(){$(window).scrollTop()>g?$(".sidebar-reveal").css({display:"block"}):$(window).scrollTop()<g?$(".sidebar-reveal").css({display:"none"}):$(window).scrollTop()<v&&$(".sidebar-reveal").css({display:"none"})}),document.getElementById("switch-to-map")){var m=document.getElementById("switch-to-map"),w=document.getElementById("animation-start"),y=document.getElementById("animation-return");m.addEventListener("mouseover",function(){m.classList.add("expend"),w.beginElement()},!1),m.addEventListener("mouseout",function(){m.classList.remove("expend"),y.beginElement(),console.log(y)},!1)}});
=======
!function(t,e){var $=t.jQuery||t.Cowboy||(t.Cowboy={}),i;$.throttle=i=function(t,i,s,o){function n(){function n(){r=+new Date,s.apply(h,u)}function l(){a=e}var h=this,c=+new Date-r,u=arguments;o&&!a&&n(),a&&clearTimeout(a),o===e&&c>t?n():i!==!0&&(a=setTimeout(o?l:n,o===e?t-c:t))}var a,r=0;return"boolean"!=typeof i&&(o=s,s=i,i=e),$.guid&&(n.guid=s.guid=s.guid||$.guid++),n},$.debounce=function(t,s,o){return o===e?i(t,s,!1):i(t,o,s!==!1)}}(this),function(){var t;t=window.jQuery||window.Zepto||window.$,t.fn.fancySelect=function(e){var i,s;return null==e&&(e={}),s=t.extend({forceiOS:!1,includeBlank:!1,optionTemplate:function(t){return t.text()},triggerTemplate:function(t){return t.text()}},e),i=!!navigator.userAgent.match(/iP(hone|od|ad)/i),this.each(function(){var e,o,n,a,r,l,h;return a=t(this),a.hasClass("fancified")||"SELECT"!==a[0].tagName?void 0:(a.addClass("fancified"),a.css({width:1,height:1,display:"block",position:"absolute",top:0,left:0,opacity:0}),a.wrap('<div class="fancy-select">'),h=a.parent(),a.data("class")&&h.addClass(a.data("class")),h.append('<div class="trigger">'),(!i||s.forceiOS)&&h.append('<ul class="options">'),r=h.find(".trigger"),n=h.find(".options"),o=a.prop("disabled"),o&&h.addClass("disabled"),l=function(){var t;return t=s.triggerTemplate(a.find(":selected")),r.html(t)},a.on("blur.fs",function(){return r.hasClass("open")?setTimeout(function(){return r.trigger("close.fs")},120):void 0}),r.on("close.fs",function(){return r.removeClass("open"),n.removeClass("open")}),r.on("click.fs",function(){var e,l;if(!o)if(r.toggleClass("open"),i&&!s.forceiOS){if(r.hasClass("open"))return a.focus()}else if(r.hasClass("open")&&(l=r.parent(),e=l.offsetParent(),l.offset().top+l.outerHeight()+n.outerHeight()+20>t(window).height()+t(window).scrollTop()?n.addClass("overflowing"):n.removeClass("overflowing")),n.toggleClass("open"),!i)return a.focus()}),a.on("enable",function(){return a.prop("disabled",!1),h.removeClass("disabled"),o=!1,e()}),a.on("disable",function(){return a.prop("disabled",!0),h.addClass("disabled"),o=!0}),a.on("change.fs",function(t){return t.originalEvent&&t.originalEvent.isTrusted?t.stopPropagation():l()}),a.on("keydown",function(t){var e,i,s;if(s=t.which,e=n.find(".hover"),e.removeClass("hover"),n.hasClass("open")){if(38===s?(t.preventDefault(),e.length&&e.index()>0?e.prev().addClass("hover"):n.find("li:last-child").addClass("hover")):40===s?(t.preventDefault(),e.length&&e.index()<n.find("li").length-1?e.next().addClass("hover"):n.find("li:first-child").addClass("hover")):27===s?(t.preventDefault(),r.trigger("click.fs")):13===s||32===s?(t.preventDefault(),e.trigger("click.fs")):9===s&&r.hasClass("open")&&r.trigger("close.fs"),i=n.find(".hover"),i.length)return n.scrollTop(0),n.scrollTop(i.position().top-12)}else if(13===s||32===s||38===s||40===s)return t.preventDefault(),r.trigger("click.fs")}),n.on("click.fs","li",function(e){var s;return s=t(this),a.val(s.data("raw-value")),i||a.trigger("blur.fs").trigger("focus.fs"),n.find(".selected").removeClass("selected"),s.addClass("selected"),r.addClass("selected"),a.val(s.data("raw-value")).trigger("change.fs").trigger("blur.fs").trigger("focus.fs")}),n.on("mouseenter.fs","li",function(){var e,i;return i=t(this),e=n.find(".hover"),e.removeClass("hover"),i.addClass("hover")}),n.on("mouseleave.fs","li",function(){return n.find(".hover").removeClass("hover")}),e=function(){var e;return l(),!i||s.forceiOS?(e=a.find("option"),a.find("option").each(function(e,i){var o;return i=t(i),i.prop("disabled")||!i.val()&&!s.includeBlank?void 0:(o=s.optionTemplate(i),n.append(i.prop("selected")?'<li data-raw-value="'+i.val()+'" class="selected">'+o+"</li>":'<li data-raw-value="'+i.val()+'">'+o+"</li>"))})):void 0},a.on("update.fs",function(){return h.find(".options").empty(),e()}),e())})}}.call(this),function(t,e){"function"==typeof define&&define.amd?define(e):t.Dragdealer=e()}(this,function(){function t(t){var e="Webkit Moz ms O".split(" "),i=document.documentElement.style;if(void 0!==i[t])return t;t=t.charAt(0).toUpperCase()+t.substr(1);for(var s=0;s<e.length;s++)if(void 0!==i[e[s]+t])return e[s]+t}function e(t){c.backfaceVisibility&&c.perspective&&(t.style[c.perspective]="1000px",t.style[c.backfaceVisibility]="hidden")}var i=function(t,e){this.options=this.applyDefaults(e||{}),this.bindMethods(),this.wrapper=this.getWrapperElement(t),this.wrapper&&(this.handle=this.getHandleElement(this.wrapper,this.options.handleClass),this.handle&&(this.init(),this.bindEventListeners()))};i.prototype={defaults:{disabled:!1,horizontal:!0,vertical:!1,slide:!0,steps:0,snap:!1,loose:!1,speed:.1,xPrecision:0,yPrecision:0,handleClass:"handle",css3:!0,activeClass:"active",tapping:!0},init:function(){this.options.css3&&e(this.handle),this.value={prev:[-1,-1],current:[this.options.x||0,this.options.y||0],target:[this.options.x||0,this.options.y||0]},this.offset={wrapper:[0,0],mouse:[0,0],prev:[-999999,-999999],current:[0,0],target:[0,0]},this.change=[0,0],this.stepRatios=this.calculateStepRatios(),this.activity=!1,this.dragging=!1,this.tapping=!1,this.reflow(),this.options.disabled&&this.disable()},applyDefaults:function(t){for(var e in this.defaults)t.hasOwnProperty(e)||(t[e]=this.defaults[e]);return t},getWrapperElement:function(t){return"string"==typeof t?document.getElementById(t):t},getHandleElement:function(t,e){var i,s,o;if(t.getElementsByClassName){if(i=t.getElementsByClassName(e),i.length>0)return i[0]}else for(s=new RegExp("(^|\\s)"+e+"(\\s|$)"),i=t.getElementsByTagName("*"),o=0;o<i.length;o++)if(s.test(i[o].className))return i[o]},calculateStepRatios:function(){var t=[];if(this.options.steps>1)for(var e=0;e<=this.options.steps-1;e++)t[e]=e/(this.options.steps-1);return t},setWrapperOffset:function(){this.offset.wrapper=h.get(this.wrapper)},calculateBounds:function(){var t={top:this.options.top||0,bottom:-(this.options.bottom||0)+this.wrapper.offsetHeight,left:this.options.left||0,right:-(this.options.right||0)+this.wrapper.offsetWidth};return t.availWidth=t.right-t.left-this.handle.offsetWidth,t.availHeight=t.bottom-t.top-this.handle.offsetHeight,t},calculateValuePrecision:function(){var t=this.options.xPrecision||Math.abs(this.bounds.availWidth),e=this.options.yPrecision||Math.abs(this.bounds.availHeight);return[t?1/t:0,e?1/e:0]},bindMethods:function(){this.requestAnimationFrame="function"==typeof this.options.customRequestAnimationFrame?s(this.options.customRequestAnimationFrame,window):s(p,window),this.cancelAnimationFrame="function"==typeof this.options.customCancelAnimationFrame?s(this.options.customCancelAnimationFrame,window):s(d,window),this.animateWithRequestAnimationFrame=s(this.animateWithRequestAnimationFrame,this),this.animate=s(this.animate,this),this.onHandleMouseDown=s(this.onHandleMouseDown,this),this.onHandleTouchStart=s(this.onHandleTouchStart,this),this.onDocumentMouseMove=s(this.onDocumentMouseMove,this),this.onWrapperTouchMove=s(this.onWrapperTouchMove,this),this.onWrapperMouseDown=s(this.onWrapperMouseDown,this),this.onWrapperTouchStart=s(this.onWrapperTouchStart,this),this.onDocumentMouseUp=s(this.onDocumentMouseUp,this),this.onDocumentTouchEnd=s(this.onDocumentTouchEnd,this),this.onHandleClick=s(this.onHandleClick,this),this.onWindowResize=s(this.onWindowResize,this)},bindEventListeners:function(){o(this.handle,"mousedown",this.onHandleMouseDown),o(this.handle,"touchstart",this.onHandleTouchStart),o(document,"mousemove",this.onDocumentMouseMove),o(this.wrapper,"touchmove",this.onWrapperTouchMove),o(this.wrapper,"mousedown",this.onWrapperMouseDown),o(this.wrapper,"touchstart",this.onWrapperTouchStart),o(document,"mouseup",this.onDocumentMouseUp),o(document,"touchend",this.onDocumentTouchEnd),o(this.handle,"click",this.onHandleClick),o(window,"resize",this.onWindowResize),this.animate(!1,!0),this.interval=this.requestAnimationFrame(this.animateWithRequestAnimationFrame)},unbindEventListeners:function(){n(this.handle,"mousedown",this.onHandleMouseDown),n(this.handle,"touchstart",this.onHandleTouchStart),n(document,"mousemove",this.onDocumentMouseMove),n(this.wrapper,"touchmove",this.onWrapperTouchMove),n(this.wrapper,"mousedown",this.onWrapperMouseDown),n(this.wrapper,"touchstart",this.onWrapperTouchStart),n(document,"mouseup",this.onDocumentMouseUp),n(document,"touchend",this.onDocumentTouchEnd),n(this.handle,"click",this.onHandleClick),n(window,"resize",this.onWindowResize),this.cancelAnimationFrame(this.interval)},onHandleMouseDown:function(t){l.refresh(t),a(t),r(t),this.activity=!1,this.startDrag()},onHandleTouchStart:function(t){l.refresh(t),r(t),this.activity=!1,this.startDrag()},onDocumentMouseMove:function(t){l.refresh(t),this.dragging&&(this.activity=!0)},onWrapperTouchMove:function(t){return l.refresh(t),!this.activity&&this.draggingOnDisabledAxis()?void(this.dragging&&this.stopDrag()):(a(t),void(this.activity=!0))},onWrapperMouseDown:function(t){l.refresh(t),a(t),this.startTap()},onWrapperTouchStart:function(t){l.refresh(t),a(t),this.startTap()},onDocumentMouseUp:function(t){this.stopDrag(),this.stopTap()},onDocumentTouchEnd:function(t){this.stopDrag(),this.stopTap()},onHandleClick:function(t){this.activity&&(a(t),r(t))},onWindowResize:function(t){this.reflow()},enable:function(){this.disabled=!1,this.handle.className=this.handle.className.replace(/\s?disabled/g,"")},disable:function(){this.disabled=!0,this.handle.className+=" disabled"},reflow:function(){this.setWrapperOffset(),this.bounds=this.calculateBounds(),this.valuePrecision=this.calculateValuePrecision(),this.updateOffsetFromValue()},getStep:function(){return[this.getStepNumber(this.value.target[0]),this.getStepNumber(this.value.target[1])]},getValue:function(){return this.value.target},setStep:function(t,e,i){this.setValue(this.options.steps&&t>1?(t-1)/(this.options.steps-1):0,this.options.steps&&e>1?(e-1)/(this.options.steps-1):0,i)},setValue:function(t,e,i){this.setTargetValue([t,e||0]),i&&(this.groupCopy(this.value.current,this.value.target),this.updateOffsetFromValue(),this.callAnimationCallback())},startTap:function(){!this.disabled&&this.options.tapping&&(this.tapping=!0,this.setWrapperOffset(),this.setTargetValueByOffset([l.x-this.offset.wrapper[0]-this.handle.offsetWidth/2,l.y-this.offset.wrapper[1]-this.handle.offsetHeight/2]))},stopTap:function(){!this.disabled&&this.tapping&&(this.tapping=!1,this.setTargetValue(this.value.current))},startDrag:function(){this.disabled||(this.dragging=!0,this.setWrapperOffset(),this.offset.mouse=[l.x-h.get(this.handle)[0],l.y-h.get(this.handle)[1]],this.wrapper.className.match(this.options.activeClass)||(this.wrapper.className+=" "+this.options.activeClass))},stopDrag:function(){if(!this.disabled&&this.dragging){this.dragging=!1;var t=this.groupClone(this.value.current);if(this.options.slide){var e=this.change;t[0]+=4*e[0],t[1]+=4*e[1]}this.setTargetValue(t),this.wrapper.className=this.wrapper.className.replace(" "+this.options.activeClass,"")}},callAnimationCallback:function(){var t=this.value.current;this.options.snap&&this.options.steps>1&&(t=this.getClosestSteps(t)),this.groupCompare(t,this.value.prev)||("function"==typeof this.options.animationCallback&&this.options.animationCallback.call(this,t[0],t[1]),this.groupCopy(this.value.prev,t))},callTargetCallback:function(){"function"==typeof this.options.callback&&this.options.callback.call(this,this.value.target[0],this.value.target[1])},animateWithRequestAnimationFrame:function(t){t?(this.timeOffset=this.timeStamp?t-this.timeStamp:0,this.timeStamp=t):this.timeOffset=25,this.animate(),this.interval=this.requestAnimationFrame(this.animateWithRequestAnimationFrame)},animate:function(t,e){if(!t||this.dragging){if(this.dragging){var i=this.groupClone(this.value.target),s=[l.x-this.offset.wrapper[0]-this.offset.mouse[0],l.y-this.offset.wrapper[1]-this.offset.mouse[1]];this.setTargetValueByOffset(s,this.options.loose),this.change=[this.value.target[0]-i[0],this.value.target[1]-i[1]]}(this.dragging||e)&&this.groupCopy(this.value.current,this.value.target),(this.dragging||this.glide()||e)&&(this.updateOffsetFromValue(),this.callAnimationCallback())}},glide:function(){var t=[this.value.target[0]-this.value.current[0],this.value.target[1]-this.value.current[1]];return t[0]||t[1]?(Math.abs(t[0])>this.valuePrecision[0]||Math.abs(t[1])>this.valuePrecision[1]?(this.value.current[0]+=t[0]*this.options.speed*this.timeOffset/25,this.value.current[1]+=t[1]*this.options.speed*this.timeOffset/25):this.groupCopy(this.value.current,this.value.target),!0):!1},updateOffsetFromValue:function(){this.offset.current=this.getOffsetsByRatios(this.options.snap?this.getClosestSteps(this.value.current):this.value.current),this.groupCompare(this.offset.current,this.offset.prev)||(this.renderHandlePosition(),this.groupCopy(this.offset.prev,this.offset.current))},renderHandlePosition:function(){var t="";return this.options.css3&&c.transform?(this.options.horizontal&&(t+="translateX("+this.offset.current[0]+"px)"),this.options.vertical&&(t+=" translateY("+this.offset.current[1]+"px)"),void(this.handle.style[c.transform]=t)):(this.options.horizontal&&(this.handle.style.left=this.offset.current[0]+"px"),void(this.options.vertical&&(this.handle.style.top=this.offset.current[1]+"px")))},setTargetValue:function(t,e){var i=e?this.getLooseValue(t):this.getProperValue(t);this.groupCopy(this.value.target,i),this.offset.target=this.getOffsetsByRatios(i),this.callTargetCallback()},setTargetValueByOffset:function(t,e){var i=this.getRatiosByOffsets(t),s=e?this.getLooseValue(i):this.getProperValue(i);this.groupCopy(this.value.target,s),this.offset.target=this.getOffsetsByRatios(s)},getLooseValue:function(t){var e=this.getProperValue(t);return[e[0]+(t[0]-e[0])/4,e[1]+(t[1]-e[1])/4]},getProperValue:function(t){var e=this.groupClone(t);return e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0),e[0]=Math.min(e[0],1),e[1]=Math.min(e[1],1),(!this.dragging&&!this.tapping||this.options.snap)&&this.options.steps>1&&(e=this.getClosestSteps(e)),e},getRatiosByOffsets:function(t){return[this.getRatioByOffset(t[0],this.bounds.availWidth,this.bounds.left),this.getRatioByOffset(t[1],this.bounds.availHeight,this.bounds.top)]},getRatioByOffset:function(t,e,i){return e?(t-i)/e:0},getOffsetsByRatios:function(t){return[this.getOffsetByRatio(t[0],this.bounds.availWidth,this.bounds.left),this.getOffsetByRatio(t[1],this.bounds.availHeight,this.bounds.top)]},getOffsetByRatio:function(t,e,i){return Math.round(t*e)+i},getStepNumber:function(t){return this.getClosestStep(t)*(this.options.steps-1)+1},getClosestSteps:function(t){return[this.getClosestStep(t[0]),this.getClosestStep(t[1])]},getClosestStep:function(t){for(var e=0,i=1,s=0;s<=this.options.steps-1;s++)Math.abs(this.stepRatios[s]-t)<i&&(i=Math.abs(this.stepRatios[s]-t),e=s);return this.stepRatios[e]},groupCompare:function(t,e){return t[0]==e[0]&&t[1]==e[1]},groupCopy:function(t,e){t[0]=e[0],t[1]=e[1]},groupClone:function(t){return[t[0],t[1]]},draggingOnDisabledAxis:function(){return!this.options.horizontal&&l.xDiff>l.yDiff||!this.options.vertical&&l.yDiff>l.xDiff}};for(var s=function(t,e){return function(){return t.apply(e,arguments)}},o=function(t,e,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&t.attachEvent("on"+e,i)},n=function(t,e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent&&t.detachEvent("on"+e,i)},a=function(t){t||(t=window.event),t.preventDefault&&t.preventDefault(),t.returnValue=!1},r=function(t){t||(t=window.event),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0},l={x:0,y:0,xDiff:0,yDiff:0,refresh:function(t){t||(t=window.event),"mousemove"==t.type?this.set(t):t.touches&&this.set(t.touches[0])},set:function(t){var e=this.x,i=this.y;t.clientX||t.clientY?(this.x=t.clientX,this.y=t.clientY):(t.pageX||t.pageY)&&(this.x=t.pageX-document.body.scrollLeft-document.documentElement.scrollLeft,this.y=t.pageY-document.body.scrollTop-document.documentElement.scrollTop),this.xDiff=Math.abs(this.x-e),this.yDiff=Math.abs(this.y-i)}},h={get:function(t){var e={left:0,top:0};return void 0!==t.getBoundingClientRect&&(e=t.getBoundingClientRect()),[e.left,e.top]}},c={transform:t("transform"),perspective:t("perspective"),backfaceVisibility:t("backfaceVisibility")},u=["webkit","moz"],p=window.requestAnimationFrame,d=window.cancelAnimationFrame,f=0;f<u.length&&!p;++f)p=window[u[f]+"RequestAnimationFrame"],d=window[u[f]+"CancelAnimationFrame"]||window[u[f]+"CancelRequestAnimationFrame"];return p||(p=function(t){return setTimeout(t,25)},d=clearTimeout),i}),function(t,e){if(!t)return e;var i=function(){this.el=e,this.items=e,this.sizes=[],this.max=[0,0],this.current=0,this.interval=e,this.opts={speed:500,delay:3e3,complete:e,keys:!e,dots:e,fluid:e};var i=this;this.init=function(e,i){return this.el=e,this.ul=e.children("ul"),this.max=[e.outerWidth(),e.outerHeight()],this.items=this.ul.children("li").each(this.calculate),this.opts=t.extend(this.opts,i),this.setup(),this},this.calculate=function(e){var s=t(this),o=s.outerWidth(),n=s.outerHeight();i.sizes[e]=[o,n],o>i.max[0]&&(i.max[0]=o),n>i.max[1]&&(i.max[1]=n)},this.setup=function(){if(this.el.css({overflow:"hidden",width:i.max[0],height:this.items.first().outerHeight()}),this.ul.css({width:100*this.items.length+"%",position:"relative"}),this.items.css("width",100/this.items.length+"%"),this.opts.delay!==e&&(this.start(),this.el.hover(this.stop,this.start)),this.opts.keys&&t(document).keydown(this.keys),this.opts.dots&&this.dots(),this.opts.fluid){var s=function(){i.el.css("width",Math.min(Math.round(i.el.outerWidth()/i.el.parent().outerWidth()*100),100)+"%")};s(),t(window).resize(s)}this.opts.arrows&&this.el.parent().append('<p class="arrows"><span class="prev">â†</span><span class="next">â†’</span></p>').find(".arrows span").click(function(){t.isFunction(i[this.className])&&i[this.className]()}),t.event.swipe&&this.el.on("swipeleft",i.prev).on("swiperight",i.next)},this.move=function(e,s){this.items.eq(e).length||(e=0),0>e&&(e=this.items.length-1);var o=this.items.eq(e),n={height:o.outerHeight()},a=s?5:this.opts.speed;this.ul.is(":animated")||(i.el.find(".dot:eq("+e+")").addClass("active").siblings().removeClass("active"),this.el.animate(n,a)&&this.ul.animate(t.extend({left:"-"+e+"00%"},n),a,function(o){i.current=e,t.isFunction(i.opts.complete)&&!s&&i.opts.complete(i.el)}))},this.start=function(){i.interval=setInterval(function(){i.move(i.current+1)},i.opts.delay)},this.stop=function(){return i.interval=clearInterval(i.interval),i},this.keys=function(e){var s=e.which,o={37:i.prev,39:i.next,27:i.stop};t.isFunction(o[s])&&o[s]()},this.next=function(){return i.stop().move(i.current+1)},this.prev=function(){return i.stop().move(i.current-1)},this.dots=function(){var e='<ol class="dots">';t.each(this.items,function(t){e+='<li class="dot'+(1>t?" active":"")+'">'+(t+1)+"</li>"}),e+="</ol>",this.el.addClass("has-dots").append(e).find(".dot").click(function(){i.move(t(this).index())})}};t.fn.unslider=function(e){var s=this.length;return this.each(function(o){var n=t(this),a=(new i).init(n,e);n.data("unslider"+(s>1?"-"+(o+1):""),a)})}}(window.jQuery,!1),function(t){t.fn.fitText=function(e,i){var s=e||1,o=t.extend({minFontSize:Number.NEGATIVE_INFINITY,maxFontSize:Number.POSITIVE_INFINITY},i);return this.each(function(){var e=t(this),i=function(){e.css("font-size",Math.max(Math.min(e.width()/(10*s),parseFloat(o.maxFontSize)),parseFloat(o.minFontSize)))};i(),t(window).on("resize.fittext orientationchange.fittext",i)})}}(jQuery),jQuery(document).ready(function($){function t(t){console.log("===================="),console.log("fixDiv() got called on load");var e=$(".tickets"),i=$(".overview-introduction").outerHeight(),s=$(".overview-article").outerHeight(),o=e.offset().top,r=n.width()-(e.offset().left+e.outerWidth()),l=e.outerHeight(),h,c,u=["js--scrolled-past-content","js--viewing-content","js--stick-at-the-end","js--original-state"],p=u.join(" ");t>1333&&(h=30.6667,c=h/100*1200+"px",r=r/t*100+"%"),a>i+s-l?e.removeClass(p).addClass("js--stick-at-the-end").removeClass("ficksed"):a>o-100&&(e.removeClass(p).addClass("js--viewing-content").addClass("ficksed"),t>1333&&e.css({right:r,width:c}))}function e(t){console.log("===================="),console.log("fixDiv() got called on scroll");var e=$(".tickets"),i=$(".overview-introduction").outerHeight(),s=$(".overview-article").outerHeight(),o=e.offset().top,a=n.width()-(e.offset().left+e.outerWidth()),r=e.outerWidth(),l=e.outerHeight(),h,c,u={window_width:t};$now_fixed=!1,$wrapper_width=.9,$previous_scroll_position=0,$scroll_position=$(this).scrollTop(),$on_scroll_modifiers=["js--scrolled-past-content","js--viewing-content","js--stick-at-the-end","js--original-state"],$on_scroll_modifiers_string=$on_scroll_modifiers.join(" "),$scroll_position>i+s-l+43?(console.log("Block must stick at the end"),e.removeClass($on_scroll_modifiers_string).addClass("js--stick-at-the-end").removeClass("ficksed"),u.window_width>1333&&e.css({right:"",width:""})):$scroll_position>i-90?(console.log("Currently viewing, block must be fixed"),e.removeClass($on_scroll_modifiers_string).addClass("js--viewing-content").addClass("ficksed"),u.window_width>1333&&(console.log("...and width is 1333+"),e.css({right:a,right:(u.window_width-1200)/2/u.window_width*100+"%",width:"368.004px"}))):i-90>$scroll_position&&(console.log("Should bring the block back to its original position"),e.removeClass($on_scroll_modifiers_string).addClass("js--original-state").removeClass("ficksed"),u.window_width>1333?(console.log("Window is 1333+"),e.css({right:"",width:""})):console.log("Window is less than 1333")),$previous_scroll_position=$scroll_position}function i(t){console.log("===================="),console.log("fixDiv() got called on resize");var e=$(".tickets"),i=!1,s=.9;e.hasClass("js--viewing-content")&&t>1333?(console.log("fixDiv got called on resize, while viewing the content and the result width is >1333"),e.css({right:(t-1200)/2/t*100+"%",width:30.6667/100*1200+"px"})):e.hasClass("js--viewing-content")&&e.css({right:"",width:""})}function s(t,e,i,s,o){var n=t;p=setInterval(function(){switch(i.css({marginLeft:n*-s+"%"}),o){case"one":n==e-1?n=0:e-1>t?n++:t=0;break;case"two":n==e-2?n=0:e-2>t?n++:t=0;break;case"three":n==e-3?n=0:e-3>n?n++:t=0}},1e3,n)}function o(){var t=0,e,i;d=0,c.css("marginLeft",0),n.width()<480?(e=100,i="one"):n.width()<=1024?(e=50,i="two"):(e=33.33,i="three"),c.css("width",h*e+"%"),u.css({width:100/h+"%"})}console.log("========================"),console.log("Document ready");var n=$(window),a=$(document).scrollTop(),r=$("body");$(".custom-select").fancySelect(),function(){console.log("===================="),console.log("Enter mobile nav function");var t=$("#nav-trigger"),e=$("#primary-nav-list"),i="open";t.on("click",function(s){console.log("Nav trigger clicked"),s.preventDefault(),n.width()>1100||e.stop().slideToggle(300,function(){e.is(":visible")?t.addClass(i):t.removeClass(i)})}),n.resize(function(){return n.width()<=1100?void(e.is(":visible")&&(e.hide(),t.removeClass(i))):void(t.hasClass(i)||e.css("display",""))})}(),$(".tickets")[0]&&n.width()>480&&(t(n.width()),n.scroll(function(){e(n.width())}),n.resize(function(){i(n.width(),!0)})),function(){$.fn.isOnScreen=function(){var t=n,e={top:t.scrollTop(),left:t.scrollLeft()};e.right=e.left+t.width(),e.bottom=e.top+t.height();var i=this.offset();return i.right=i.left+this.outerWidth(),i.bottom=i.top+this.outerHeight(),!(e.right<i.left||e.left>i.right||e.bottom<i.top||e.top>i.bottom)};var t=$("video");n.scroll(function(){t.each(function(t,e){1==$(e).isOnScreen()?$(e).get(0).play():$(e).get(0).pause()})})}(),$(".dismiss").click(function(t){t.preventDefault();var e=$(this),i=e.data("target"),s=e.data("action-class");console.log("==============================="),console.log("Dismiss button clicked. Target:",i,"— Action class:",s),$("."+i).hasClass("wide-open")?$("."+i).removeClass("wide-open"):$("."+i).addClass(s)}),$("#fake-map").click(function(t){t.preventDefault(),$("#map-sidebar").toggleClass("off-canvas")}),function(){var t=$("#view-event-pictures"),e=$("#map-sidebar");t.click(function(t){t.preventDefault(),e.toggleClass("wide-open")})}(),function(){function t(){var t=new google.maps.LatLng(0,0),e=o.getProjection(),s=e.fromLatLngToDivPixel(t),n=e.fromLatLngToContainerPixel(t),r=s.x-n.x-left,l=s.y-n.y-top,h=o.getSvg().cloneNode(!0),c=document.implementation.createDocument(),u=document.createElement("div"),p=c.createElement("svg"),d=i.getDiv(),f=d.clientWidth,g=d.clientHeight,v=[r,l,f,g].join(" "),m=self.URL||self.webkitURL||self,w,y;p.setAttribute("xmlns","http://www.w3.org/2000/svg"),p.setAttribute("width",f),p.setAttribute("height",g),p.setAttribute("viewBox",v),p.appendChild(h),u.appendChild(p);var b=marker.getIcon(),C=c.createElement("path"),T=e.fromLatLngToDivPixel(marker.getPosition());T.x-=b.scale*b.anchor.x+left,T.y-=b.scale*b.anchor.y+top,C.setAttribute("d",b.path),C.setAttribute("transform","translate("+T.x+","+T.y+") scale("+b.scale+")"),C.setAttribute("fill",b.fillColor),C.setAttribute("stroke",b.strokeColor),C.setAttribute("fill-opacity",b.fillOpacity),C.setAttribute("stroke-opacity",b.strokeOpacity),C.setAttribute("stroke-width",b.strokeWeight),C.setAttribute("vector-effect","non-scaling-stroke"),p.appendChild(C),w=new Blob([u.innerHTML],{type:"image/svg+xml;charset=utf-8"}),y=m.createObjectURL(w),console.log(y),a.src=y}if($("#map_canvas")[0]){var e=[{featureType:"landscape.natural",stylers:[{saturation:-100},{lightness:100}]},{featureType:"transit.station",elementType:"geometry.stroke",stylers:[{color:"#ffc35e"}]},{featureType:"water",stylers:[{saturation:-100},{lightness:100}]},{elementType:"labels.text.stroke",stylers:[{saturation:-100},{lightness:100}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{saturation:-100},{lightness:-75}]},{featureType:"road",elementType:"geometry.fill",stylers:[{saturation:-100},{lightness:97}]},{featureType:"poi.park",stylers:[{saturation:-100},{lightness:-100}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{saturation:-100},{lightness:100}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"landscape.man_made",stylers:[{saturation:-100},{lightness:100}]},{featureType:"administrative",elementType:"labels.text.fill",stylers:[{saturation:-100},{lightness:100}]},{featureType:"administrative",elementType:"labels.text.stroke",stylers:[{saturation:-100},{lightness:-100}]},{featureType:"poi",stylers:[{saturation:-100},{lightness:100}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{saturation:-100},{lightness:-100}]},{featureType:"transit.station",stylers:[{saturation:-100},{lightness:-22}]},{elementType:"labels.text.fill",stylers:[{saturation:1},{lightness:-100}]},{elementType:"labels.text.stroke",stylers:[{saturation:-100},{lightness:100}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#e30513"},{lightness:14},{weight:1.4}]},{featureType:"poi",elementType:"geometry.stroke",stylers:[{color:"#e30513"},{lightness:14},{weight:1.4}]},{featureType:"administrative.locality",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"water",elementType:"labels",stylers:[{visibility:"on"}]}],i=new google.maps.Map(document.getElementById("map_canvas"),{zoom:12,center:new google.maps.LatLng(51.48184,7.21624),mapTypeId:google.maps.MapTypeId.ROADMAP,styles:e}),s=new XMLHttpRequest;s.open("GET","ruhr.svg",!1),s.send();var o=new SvgOverlay({content:s.responseText,map:i}),n=o.getSvg();n.setAttribute("opacity",1);var a=document.getElementById("canvas")}}();var l=$("#map-sidebar-slider");l.unslider({speed:500,delay:4e3,keys:!0,dots:!0}),function(){var t=$("#search-trigger"),e=$("#search-bar"),i=$("#navigation"),s=$("#content"),o=$("#search-field");t.click(function(){console.log("========================"),console.log("Search trigger clicked"),t.toggleClass("triggered"),i.add(s).toggleClass("make-room"),e.toggleClass("visible"),e.hasClass("visible")?o.focus():o.blur()})}();var h=$(".overview__slide").length,c=$(".overview__slide-container"),u=$(".overview__slide"),p,d=0;console.log(h,"slides"),$(".overview__controls .next").click(function(t){t.preventDefault();var e,i,s=d+1,o=d+2;switch(n.width()<480?(e=100,i="one"):n.width()<=1024?(e=50,i="two"):(e=33.33,i="three"),i){case"one":s==h?d=0:d++;break;case"two":s==h-1?d=0:d++;break;case"three":s==h-2?d=0:d++}console.log("$target_slide_index is",s),c.css({marginLeft:d*-e+"%"})}),$(".overview__controls .prev").click(function(t){t.preventDefault();var e,i,s=d-1,o=d-2;switch(n.width()<480?(e=100,i="one"):n.width()<=1024?(e=50,i="two"):(e=33.33,i="three"),i){case"one":0>s?(d=h-1,s=h-1):d--;break;case"two":0>s?(d=h-2,s=h-2):d--;break;case"three":0>s?(d=h-3,s=h-3):d--}c.css({marginLeft:s*-e+"%"})}),o(),n.resize($.debounce(300,function(){clearInterval(p),o()})),function(){var t=$("body"),e=$("#st-container"),i=$("#toggle-tickets"),s=$("#st-tickets"),o=0,n=["close","buy tickets","close"];i.click(function(i){console.log("Trigger clicked"),i.preventDefault(),e.toggleClass("st-tickets-open"),t.toggleClass("hidden"),$(this).toggleClass("on")}),i.on("click",function(){$(this).text(function(t,e){return t=$.inArray(e,n),n[++t%n.length]})})}();var f=$(document).height()-$(window).height()-$(window).scrollTop(),g=$(".overview-introduction").outerHeight(),v=$(".overview-article")+$(".overview-introduction").outerHeight();if(console.log(v),$(window).scroll(function(){$(window).scrollTop()>g?$(".sidebar-reveal").css({display:"block"}):$(window).scrollTop()<g?$(".sidebar-reveal").css({display:"none"}):$(window).scrollTop()<v&&$(".sidebar-reveal").css({display:"none"})}),document.getElementById("switch-to-map")){var m=document.getElementById("switch-to-map"),w=document.getElementById("animation-start"),y=document.getElementById("animation-return");m.addEventListener("mouseover",function(){m.classList.add("expend"),w.beginElement()},!1),m.addEventListener("mouseout",function(){m.classList.remove("expend"),y.beginElement(),console.log(y)},!1)}!function(){function t(){i.css({marginTop:"",marginBottom:""}),s=!1}function e(){i.each(function(t,e){$(e).css({marginTop:Math.floor(200*Math.random())+50,marginBottom:Math.floor(80*Math.random())+30})}),s=!0}var i=$(".home-news__block:not(.home-news__block--featured)"),s=!1;n.width()>780?e():t(),n.resize(function(){n.width()<780?t():0==s&&e()})}()});
>>>>>>> 0556fe3efb9874900d14ffe789e45fe2e50c6c59
>>>>>>> 08ce5faeb3510a49f2ce59ded1d198ca6c91a9ac
